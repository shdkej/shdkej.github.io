{"componentChunkName":"component---src-templates-blog-post-js","path":"/about_architecture/","result":{"data":{"site":{"siteMetadata":{"title":"SH"}},"markdownRemark":{"id":"77df9fc4-a843-5957-bab3-34245b3b7534","excerpt":"확장성 50 유저를 상대로 운영하고 있지만 10만 유저를 상대할때도 문제가 생기지 않게\n염두에 두고 수정한다. 하지만 임시방편으로 해결할 때도 있다.\n그런 임시방편을 잘 리스트화해서 처리를 잘 해야겠다 단일고장점이 없는 아키텍처라면\n새로운 기술을 도입하는 것이 쉽게 될 수 있겠다 hdd…","html":"<h2 id=\"확장성\" style=\"position:relative;\"><a href=\"#%ED%99%95%EC%9E%A5%EC%84%B1\" aria-label=\"확장성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>확장성</h2>\n<p>50 유저를 상대로 운영하고 있지만 10만 유저를 상대할때도 문제가 생기지 않게\n염두에 두고 수정한다. 하지만 임시방편으로 해결할 때도 있다.\n그런 임시방편을 잘 리스트화해서 처리를 잘 해야겠다</p>\n<p>단일고장점이 없는 아키텍처라면\n새로운 기술을 도입하는 것이 쉽게 될 수 있겠다</p>\n<p>hdd로 구축된 서버에서 한대만 ssd로 교체해서 상황을 지켜보고, 문제가 있어도 다른\n서버에서 커버할 수 있다면 문제점 파악하는데에 도움이 되겠다</p>\n<p>소프트웨어 자체의 에러가 전체에 영향을 미치지 못하도록 하면 다른 것으로 교체하면\n그만이라서 관리하기 쉽겠다</p>\n<p>3대의 서버를 켜놓고 1대씩 리부팅을 해도 나머지 2대가 있어서 괜찮다면 오래 켜놔서\n생기는 문제를 막을 수 있듯이\n일부러 1대씩 계속 재부팅되도록 하고, 상태저장이 필요 없도록 하면 os의 문제에서\n조금은 자유로워지지 않을까\n재부팅하면 캐시가 다시 쌓여야하는 부분은 확인해봐야겠다</p>\n<p>3대의 서버를 한 묶음으로 추가 자원이 필요하면 이 묶음이 여러개가 되도록 하면\n확장성 문제도 해결되지 않을까?\n쿠버네티스에서는 이를 지원해준다</p>\n<p>쿠버네티스는 고가용성, 확장성, 배포를 바로 할 수 있게 해줘서 좋다\n서버는 필연적으로 고가용성과 확장성과 배포가 필요하다\n추가로 모니터링, 로깅도 세트다</p>\n<h4 id=\"portable-universal\" style=\"position:relative;\"><a href=\"#portable-universal\" aria-label=\"portable universal permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>portable, universal</h4>\n<p>새로운 기술이나 지식을 얻었을 때 우리의 업무에 바로 적용할 수 있는 자유로움</p>\n<p>회사의 상황에 맞추기보다 표준에 맞추는 방향</p>\n<p>데이터베이스를 커스터마이징하기보다 어댑터를 이용해 원본은 잘 지켜나가서 새로운\n것이 생겼을 때 바로 도입할 수 있는 환경</p>\n<h4 id=\"관리-편한-인프라\" style=\"position:relative;\"><a href=\"#%EA%B4%80%EB%A6%AC-%ED%8E%B8%ED%95%9C-%EC%9D%B8%ED%94%84%EB%9D%BC\" aria-label=\"관리 편한 인프라 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>관리 편한 인프라</h4>\n<ul>\n<li>기본 매커니즘이 단순하고 간결하고 명확한</li>\n<li>요즘 플러그인 방식</li>\n<li>간단한 형태를 유지하면서 변화에 유연한 서비스</li>\n</ul>\n<h4 id=\"변하는-것과-변하지-않는-것-vscollection\" style=\"position:relative;\"><a href=\"#%EB%B3%80%ED%95%98%EB%8A%94-%EA%B2%83%EA%B3%BC-%EB%B3%80%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EA%B2%83-vscollection\" aria-label=\"변하는 것과 변하지 않는 것 vscollection permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>변하는 것과 변하지 않는 것 :vs:collection:</h4>\n<p>변하지 않는 것은 없지만 빠르게 변하는 것과 천천히 변하는 것은 나눠져 있다\n아키텍처를 구성할 때 천천히 변하는 것을 잘 분리하여 빨리 변하는 것에 더 집중하고\n천천히 변하는 것은 잘 유지할 수 있도록 하면 좋겠다</p>\n<p>아이폰의 뒷면</p>\n<h4 id=\"소프트웨어는-언제까지-확장되는게-좋을까\" style=\"position:relative;\"><a href=\"#%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%EB%8A%94-%EC%96%B8%EC%A0%9C%EA%B9%8C%EC%A7%80-%ED%99%95%EC%9E%A5%EB%90%98%EB%8A%94%EA%B2%8C-%EC%A2%8B%EC%9D%84%EA%B9%8C\" aria-label=\"소프트웨어는 언제까지 확장되는게 좋을까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>소프트웨어는 언제까지 확장되는게 좋을까</h4>\n<p>무한정 소프트웨어가 비대해지면 관리도 힘들고, 또 그렇게 커질 필요도 없다\n네이버에서는 검색 기능은 다른 기능과 분리되어 있고, 팀도 따로 분리되어 있다.\n회사 팀 구조도 개발팀을 다른 팀과 분리하는 경우도 있고,\n기능별로 개발,디자인,기획을 같은 팀에 구성하는 경우도 있을텐데,\n어떤 경우에 어떤 구성이 좋을까</p>\n<h4 id=\"확장---모듈\" style=\"position:relative;\"><a href=\"#%ED%99%95%EC%9E%A5---%EB%AA%A8%EB%93%88\" aria-label=\"확장   모듈 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>확장 -> 모듈</h4>\n<p>각 서비스가 많은 트래픽을 감당할 수 있어야 하고,\n분산 처리 시스템처럼, 묶였을 때 트래픽 처리가 선형적으로 증가 되야 한다</p>\n<p>쉽게 교체할 수 있는 모듈의 형태로 구성되야 한다. 하지만 쉽게 교체할 수 있다는\n것이 진리는 아니다.</p>\n<p>기능별로 팀이 구성되 있을 때 그 팀에 오래 있던 사람이 나가고 새로운 사람이\n들어오면 새로운 사람이 대체하려면 아주 힘들다. 애초에 대체는 안되고 다른 역할이\n되겠지만.\n메뉴얼이 쌓여있어도 기존 작업을 100% 알 수 없다.\n기능별로 집중했기 때문에 깊고 많은 내용이 섞여있고, 그래서 기능적으로\n성숙해졌지만 새로운 사람에게는 따라가야 할 길이 멀어진다.\n이게 경험의 차이라고 불리워지는 것인 것 같다.\n기능별 팀에서의 문제가 아니라 인간세상의 문제였다.</p>\n<p>기능의 깊이가 어느정도 깊어지면 다시 분리해야 한다.\n근데 사람의 수는 한정적이어서 분리가 안된다</p>\n<h4 id=\"server-architecture-to-using-some-company-service\" style=\"position:relative;\"><a href=\"#server-architecture-to-using-some-company-service\" aria-label=\"server architecture to using some company service permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>server architecture to using some company service</h4>\n<p>특정 서비스에 종속되는 것을 조심하고 다양한 기술을 써봐야겠다\n처음에는 특정기술에 의존하는 것이 영속성이 없어서 서버아키텍처에 포함하면 안되지\n않을까 싶었지만 기술적으로 파악하고 사용하고 종속되지 않도록 해야겠다\n앞으로도 새로운 기술을 계속 써야하기에 지금 있는 기술을 두루두루 다뤄봐야겠다\n그러나 내 서버 아키텍처는 단순하고 가벼웠으면 좋겠는데 여러 기술을 사용하면\n복잡해질 수 밖에 없는데 이를 계속 생각하고 있다</p>\n<ul>\n<li>가볍고 버전 의존성 적은 라이브러리를 선택하려고 해야겠다</li>\n</ul>\n<h4 id=\"아키텍처-고민-사항\" style=\"position:relative;\"><a href=\"#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EA%B3%A0%EB%AF%BC-%EC%82%AC%ED%95%AD\" aria-label=\"아키텍처 고민 사항 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>아키텍처 고민 사항</h4>\n<p>이런 관점에서 쿠버네티스, react, graphql, backend를 어떻게 구성해야하나?\n정책과 세부사항이 너무 많으면 기준점을 잘 지켜나갈 수 있을까?</p>\n<p>비즈니스 로직에서 추상화를 어디까지 하는게 좋을까\n과한 추상화는 실체가 없다는 느낌을 줄 수 있겠다.\n어디까지 추상화를 할지는 어떤 목적으로 프로그램을 만드느냐에 따라 조정된다\n모든 것이 추상화되고 가변적일 필요는 없다\nMysql tip 글에서 DB 모델링 시 지나친 추상화를 하지 말라는 조언이 있었다.</p>\n<ul>\n<li>언어를 넘어서는 추상화</li>\n<li>포팅을 쉽게 할 정도의 추상화</li>\n</ul>\n<h2 id=\"모듈\" style=\"position:relative;\"><a href=\"#%EB%AA%A8%EB%93%88\" aria-label=\"모듈 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>모듈</h2>\n<h4 id=\"module\" style=\"position:relative;\"><a href=\"#module\" aria-label=\"module permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>module</h4>\n<p>부피가 아주 커지면 모듈화로 분리하는게 좋다</p>\n<p>작은 모듈은 무수히 많이 만들게 허용한다\n그 모듈들은 하나의 추상적인 객체가 된다</p>\n<ul>\n<li>스테이지 서버를 없애는 것</li>\n</ul>\n<h4 id=\"이-세상-모든-것은-연결되어있다\" style=\"position:relative;\"><a href=\"#%EC%9D%B4-%EC%84%B8%EC%83%81-%EB%AA%A8%EB%93%A0-%EA%B2%83%EC%9D%80-%EC%97%B0%EA%B2%B0%EB%90%98%EC%96%B4%EC%9E%88%EB%8B%A4\" aria-label=\"이 세상 모든 것은 연결되어있다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이 세상 모든 것은 연결되어있다</h4>\n<p>소프트웨어에서도 <strong>종속성</strong>이 없을 수 없다\n<strong>의존성</strong>이 항상 필요하다</p>\n<p>효율적인 구성으로 족쇄가 되지ㄹ 않아야 한다</p>\n<p>그리고 모든 연결은 상호간 약속이 되있어야 소통이 원활해진다\nHTTP 프로토콜, ITU 주파수 대역 등의 규약은 제약이 아니라 통신을 원활하게 하기\n위한 약속이고, 이를 통해 효과적으로 통신할 수 있게 된다</p>\n<p>그룹을 대표하는 대표를 뽑아서 소통하는 것이 인류의 해답 - 간접 민주주의\n그룹의 대표가 그룹을 정말로 잘 이해해야 한다. 그것이 현실의 문제점</p>\n<h4 id=\"why-module-is-worth\" style=\"position:relative;\"><a href=\"#why-module-is-worth\" aria-label=\"why module is worth permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>why module is worth</h4>\n<p>모듈을 안쓰면</p>\n<ul>\n<li>작은 수정에 많은 업데이트 시간이 걸린다</li>\n<li>동시에 여러 작업을 하기 어렵다</li>\n</ul>\n<h4 id=\"작은-것으로-쪼개어도-해결되지-않는-문제\" style=\"position:relative;\"><a href=\"#%EC%9E%91%EC%9D%80-%EA%B2%83%EC%9C%BC%EB%A1%9C-%EC%AA%BC%EA%B0%9C%EC%96%B4%EB%8F%84-%ED%95%B4%EA%B2%B0%EB%90%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EB%AC%B8%EC%A0%9C\" aria-label=\"작은 것으로 쪼개어도 해결되지 않는 문제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>작은 것으로 쪼개어도 해결되지 않는 문제</h4>\n<p>세계를 개인의 합이라고 생각할 수 있는데\n개인을 안다고 세계를 다 알 수는 없다\n개인이 모여 그룹이 되고 그룹이 모여 더 큰 그룹이 되면\n개인의 행동양식과는 다른 결과가 나올 수 있다</p>\n<p>경제학에서 개인의 경제행위를 연구하는 것만으로는 시장을 다 알 수 없어 거시경제라는 개념이 나왔다\n기업은 개인의 판단과 다른 판단을 할 수 있다</p>\n<p>작은 단위를 합쳐 크게 만들면 또 다른 변화가 만들어진다</p>\n<p>카오스 이론, 복잡계</p>\n<h4 id=\"모듈-1\" style=\"position:relative;\"><a href=\"#%EB%AA%A8%EB%93%88-1\" aria-label=\"모듈 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>모듈</h4>\n<p>집에 살 때 한 부분이 고장났다고 집 전체를 바꿀 수 없는 것처럼 각 부분이 잘 분리되야한다\n집에 있는 가구들이나, 집 자체에 결함이 생기면 전체를 고치기보다 부품만 교체하기를 원한다.\n라즈베리파이가 100대 있으면, 각 역할별로 나눠져 있어도, 고쳐야하는 요소가 많아져서 번거롭다.</p>\n<h4 id=\"프로젝트를-모듈로-구성\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%EB%AA%A8%EB%93%88%EB%A1%9C-%EA%B5%AC%EC%84%B1\" aria-label=\"프로젝트를 모듈로 구성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프로젝트를 모듈로 구성</h4>\n<p>모듈은 한 팀의 인원정도만 사용\n기존 데이터 이용 필요시 CQRS를 응용해서 데이터쿼리용 저장소를 이용</p>\n<p>도메인의 스펙을 분석해서 적용하는 작업이 계속 될 수 있어야 한다</p>\n<p>각 프로젝트마다 모듈로 구성\n모듈의 개수는 팀원의 수 정도\n기존의 데이터가 필요하면 어떻게 가져오나\nCQRS를 응용해서 공통 데이터 저장소를 따로 둔다</p>\n<p>람다로 함수들을 만들어서 gcp와 aws에 이중화하고\n로컬 서버에서 로드밸런서로 비용안들게 호출하도록 할 수 있을까\n호출횟수를 모니터링해서 로드밸런서가 확인하도록</p>\n<p>각 세부 폴더에\n도메인로직, 데이터, 유닛, api, 외부 함수, 통신 로직를 넣으면\nmvc 패턴에서 구현하는 것을 모두 구현할 수 있나?</p>\n<h4 id=\"레고형-아키텍처-module\" style=\"position:relative;\"><a href=\"#%EB%A0%88%EA%B3%A0%ED%98%95-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-module\" aria-label=\"레고형 아키텍처 module permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>레고형 아키텍처 :module:</h4>\n<p>레거시를 계속 쓰려고\n모듈화의 좋은 방법이라 생각\n응답과 결과의 형태를 통일해서 쉽게 교체가 가능할 것 같다\n처음에 완벽한 형태를 짜는 것이 불가능하기 때문에 변화하기 쉬운 형태로 짜놓는다.\n공통된 방식을 쓰면 변경이 쉽지 않을까.</p>\n<h4 id=\"데이터-확장-모듈\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%99%95%EC%9E%A5-%EB%AA%A8%EB%93%88\" aria-label=\"데이터 확장 모듈 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터 확장 모듈</h4>\n<p>아이디를 같이 쓰고 추가 데이터를 붙여서 호출할 수 있도록 하면 마이크로서비스에서\n데이터형식을 좀 더 자유롭게 쓸 수 있지 않을까</p>\n<p>블록들을 모아서 전체를 구성하는 것이 좋다\n재사용성이 늘고, 확인할 지점이 적절한 양이다. 작은 문제부터 접근하기 좋다.\n근데 블록들이 다 제각각이면 챙겨야하는 지점이 늘어난다.\n가져온 블록의 내부가 복잡하면 조치하기 힘들다. 간단한 것들로 많이 붙이면 겉잡을\n수 없이 커져서 오히려 하나 하나 확인할 수 없다</p>\n<p>점진적으로 변화할 수 있는 데이터 저장소가 있으면, 일단 저장해놓고 점점 살을 붙여\n나중에 잘 써먹을 수 있다</p>\n<p>지역성의 원리로 캐싱을 하면 이전 작업과 거리가 있는 작업을 하게 되면 캐싱을 새로\n해야한다. 이 점을 보완하고 싶다</p>\n<h4 id=\"기능을-잘게-쪼개면-전체를-조망하기-쉬워지지-않을까-module\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%8A%A5%EC%9D%84-%EC%9E%98%EA%B2%8C-%EC%AA%BC%EA%B0%9C%EB%A9%B4-%EC%A0%84%EC%B2%B4%EB%A5%BC-%EC%A1%B0%EB%A7%9D%ED%95%98%EA%B8%B0-%EC%89%AC%EC%9B%8C%EC%A7%80%EC%A7%80-%EC%95%8A%EC%9D%84%EA%B9%8C-module\" aria-label=\"기능을 잘게 쪼개면 전체를 조망하기 쉬워지지 않을까 module permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기능을 잘게 쪼개면 전체를 조망하기 쉬워지지 않을까 :module:</h4>\n<p>기능이 커지면 분리하는 방식은\n새로 접근하는 사람이 기능을 파악하는데는 도움이 될 수 있지만 하나를 파악해도\n파악하지 못한 나머지 기능들이 많아서 너무 많아 질리거나 본질에 접근 못한다는\n느낌을 받을 수 있겠다.\n'그건 내 잔상이다' 의 반복 같은 느낌</p>\n<h4 id=\"포터블은-꼭-필요한-가치인가\" style=\"position:relative;\"><a href=\"#%ED%8F%AC%ED%84%B0%EB%B8%94%EC%9D%80-%EA%BC%AD-%ED%95%84%EC%9A%94%ED%95%9C-%EA%B0%80%EC%B9%98%EC%9D%B8%EA%B0%80\" aria-label=\"포터블은 꼭 필요한 가치인가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>포터블은 꼭 필요한 가치인가?</h4>\n<ul>\n<li>모듈화를 하면 포터블한 코드</li>\n<li>유연성이 확보돼있다</li>\n</ul>\n<hr>\n<h2 id=\"분산\" style=\"position:relative;\"><a href=\"#%EB%B6%84%EC%82%B0\" aria-label=\"분산 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>분산</h2>\n<p>1인가구, 마이크로 서비스 아키텍처, 블록체인의 탈중앙화가 닮은 것 같다</p>\n<ul>\n<li>탈중앙화</li>\n<li>분산화</li>\n<li>민주주의</li>\n<li>분산 서비스</li>\n<li>고가용성</li>\n<li>마이크로서비스</li>\n<li>조직 구조도?</li>\n</ul>\n<p>확장은 필연적으로 복잡성을 만든다</p>\n<p>[[Technology#분산 대 탈중앙화]]</p>\n<h4 id=\"이동통신-시스템이-분산-처리-시스템에서-잘-돌아가고-있는-사례인-것-같다\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%8F%99%ED%86%B5%EC%8B%A0-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%9D%B4-%EB%B6%84%EC%82%B0-%EC%B2%98%EB%A6%AC-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%97%90%EC%84%9C-%EC%9E%98-%EB%8F%8C%EC%95%84%EA%B0%80%EA%B3%A0-%EC%9E%88%EB%8A%94-%EC%82%AC%EB%A1%80%EC%9D%B8-%EA%B2%83-%EA%B0%99%EB%8B%A4\" aria-label=\"이동통신 시스템이 분산 처리 시스템에서 잘 돌아가고 있는 사례인 것 같다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이동통신 시스템이 분산 처리 시스템에서 잘 돌아가고 있는 사례인 것 같다</h4>\n<p>데이터베이스의 레플리카 기능과 샤딩\n일라스틱서치\n하둡</p>\n<h4 id=\"multi-processing\" style=\"position:relative;\"><a href=\"#multi-processing\" aria-label=\"multi processing permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Multi Processing</h4>\n<p>분산 시스템의 고민과 비슷한 고민이 멀티 프로세스를 사용하려는 시도에도 있겠다.</p>\n<p>MPI라는 인터페이스가 있다.</p>\n<ul>\n<li><a href=\"https://operatingsystems.tistory.com/entry/High-Performance-Computing-MPI\">https://operatingsystems.tistory.com/entry/High-Performance-Computing-MPI</a></li>\n<li><a href=\"http://hpcschool.kr/usc/wp-content/uploads/sites/10/2014/04/MPI.pdf\">http://hpcschool.kr/usc/wp-content/uploads/sites/10/2014/04/MPI.pdf</a></li>\n</ul>\n<p>Apache의 MPM</p>\n<h4 id=\"분산-개발-환경의-해결책으로-ci가-나왔다\" style=\"position:relative;\"><a href=\"#%EB%B6%84%EC%82%B0-%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD%EC%9D%98-%ED%95%B4%EA%B2%B0%EC%B1%85%EC%9C%BC%EB%A1%9C-ci%EA%B0%80-%EB%82%98%EC%99%94%EB%8B%A4\" aria-label=\"분산 개발 환경의 해결책으로 ci가 나왔다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>분산 개발 환경의 해결책으로 ci가 나왔다</h4>\n<p>분산 서비스간의 통합도 ci 같이 할 수 있을까</p>\n<p>일단 데이터를 통합하는 서비스를 이용한다던가</p>\n<h4 id=\"계층적인-것과-분산된-것\" style=\"position:relative;\"><a href=\"#%EA%B3%84%EC%B8%B5%EC%A0%81%EC%9D%B8-%EA%B2%83%EA%B3%BC-%EB%B6%84%EC%82%B0%EB%90%9C-%EA%B2%83\" aria-label=\"계층적인 것과 분산된 것 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>계층적인 것과 분산된 것</h4>\n<p>중첩\n폴더 안에 폴더를 두는 구조는 유용하지만 복잡해져서 별로 안좋은 것 같다\n그래서 프로젝트 사이즈도 폴더 중첩이 없는 정도로 나누고 싶은데\n그러다보면 작은 덩어리가 많아져서 어디에 무엇이 있는지 모를 수 있겠다\n그래서 정돈이 필요한데, 이 정돈을 어떻게 할 수 있을까</p>\n<p>트리 구조의 깊이가 깊어지는 것과 넓이가 넓어지는 것은 비슷한 복잡도인가?</p>\n<p>넓이가 넓어져서 관리가 힘들 상황을 생각해보면, 놀이터가 넓으면 선생님이 주변에\n있는 아이가 아니면 어떤 일이 벌어지는지 알 수 없다</p>\n<p>복잡성을 염두에 두고 미리 뼈대를 만들어 놓는 것보다, 작게 분리하는 것이 복잡성을\n컨트롤 할 더 나은 방법 같다.\n자바의 폴더구조가 처음부터 중첩된 폴더를 미리 만들어 놓는 방식인데, 이런 부분이\n거슬린다. 폴더 안에 폴더가 들어가면서 깊어지면 컨트롤이 어려워질 것 같다.</p>\n<ul>\n<li>근데 go standard layout 에서 cmd 폴더 안에 메인 함수들을 폴더로 구성하게 하는\n것을 추천해서 자바와 비슷한 구조를 베스트 프렉티스로 했다. 복잡한 서비스에서는\n중첩이 최선인가. 3단 중첩은 필요한가</li>\n</ul>\n<p>[[About_Development#module]]</p>\n<h4 id=\"마이크로서비스의-해법을-다른-분산-시스템에서-얻고자-한다\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4%EC%9D%98-%ED%95%B4%EB%B2%95%EC%9D%84-%EB%8B%A4%EB%A5%B8-%EB%B6%84%EC%82%B0-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%97%90%EC%84%9C-%EC%96%BB%EA%B3%A0%EC%9E%90-%ED%95%9C%EB%8B%A4\" aria-label=\"마이크로서비스의 해법을 다른 분산 시스템에서 얻고자 한다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마이크로서비스의 해법을 다른 분산 시스템에서 얻고자 한다</h4>\n<p>전체를 퉁쳐서 하나로 규정하려는게 아니라 기존의 문제점들을 확인하고 어떤 해법들이 있었는지 정보를 얻기 위해서</p>\n<h4 id=\"라즈베리파이\" style=\"position:relative;\"><a href=\"#%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC%ED%8C%8C%EC%9D%B4\" aria-label=\"라즈베리파이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>라즈베리파이</h4>\n<p>라즈베리파이를 여러 대 두면 라즈베리파이가 하나씩 고장날 때마다 고쳐야 한다는 의미도 된다. 데스크탑 하나만 쓰면 전체가 한번에 관리된다. 물론 라즈베리파이 쪽이 싸게 처리되지만, 100대가 있을 때 매번 고치기는 힘들 것 같다. 대신 라즈베리파이 하나가 고장나도 시스템은 그대로 유지될 수 있다는 장점이 있다.</p>\n<h2 id=\"설계\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EA%B3%84\" aria-label=\"설계 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>설계</h2>\n<h4 id=\"아키텍처-노하우\" style=\"position:relative;\"><a href=\"#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EB%85%B8%ED%95%98%EC%9A%B0\" aria-label=\"아키텍처 노하우 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>아키텍처 노하우</h4>\n<ul>\n<li>변하는 것과 변하지 않을 것을 구분하기 위한 나열</li>\n<li>시나리오 전개</li>\n<li>완성본을 상상</li>\n<li>적재적소</li>\n</ul>\n<h4 id=\"알림-시스템-설계\" style=\"position:relative;\"><a href=\"#%EC%95%8C%EB%A6%BC-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84\" aria-label=\"알림 시스템 설계 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>알림 시스템 설계</h4>\n<p>가상 면접 사례로 배우는 대규모 시스템 설계 기초</p>\n<ul>\n<li>인사이트</li>\n</ul>\n<p>10장 알림 시스템 설계</p>\n<p>kums의 설계와 매우 유사하게 구성되어있다\n신기하다</p>\n<h4 id=\"개발-시작부터-확장의-반복\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EB%B0%9C-%EC%8B%9C%EC%9E%91%EB%B6%80%ED%84%B0-%ED%99%95%EC%9E%A5%EC%9D%98-%EB%B0%98%EB%B3%B5\" aria-label=\"개발 시작부터 확장의 반복 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개발 시작부터 확장의 반복</h4>\n<ol>\n<li>가장 간단한 실행을 위한 설계</li>\n<li>폴더 만들기\n<ul>\n<li>note</li>\n</ul>\n</li>\n<li>구현해야 하는 것 적고 결과값 적기\n<ul>\n<li>note/main_test.go</li>\n</ul>\n</li>\n<li>테스트 통과시키기\n<ul>\n<li>note\n<ul>\n<li>main.go</li>\n<li>main_test.go</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>기능 추가를 위해 설계</li>\n<li>파일 추가</li>\n<li>반복</li>\n</ol>\n<p>그러다가 어느 시점이 되면 아래 정도의 복잡성이 생긴다</p>\n<p>note</p>\n<ul>\n<li>logic1\n<ul>\n<li>main.go</li>\n<li>data.go</li>\n<li>adapter.go</li>\n</ul>\n</li>\n<li>logic2</li>\n<li>api\n<ul>\n<li>http.go</li>\n<li>grpc.go</li>\n</ul>\n</li>\n<li>lib</li>\n</ul>\n<p>이런 구조에서 더 복잡성이 필요해지면 분리하기 좋다는 신호다.\n그래서 저 코드 구조가 반복되면 확장이 된다.\n인프라는 저 구조를 쉽게 컨트롤하도록 구성된다.</p>\n<p>인프라 - 서비스 - 데이터의 구조로 한 인프라가 구성되고\n이것이 다시 프렉탈로 반복된다</p>\n<h4 id=\"as-after-service\" style=\"position:relative;\"><a href=\"#as-after-service\" aria-label=\"as after service permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A/S, after service</h4>\n<p>a/s can announce to me that what I missed, and what can I grow.\na/s is just doing the same work. not to be known.\nsometimes when before the same work. it is good to evolve knowledge. but cannot control what I want.\nit makes me spent time a lot. and annoying.\na/s is need</p>\n<h4 id=\"design-first-is-good\" style=\"position:relative;\"><a href=\"#design-first-is-good\" aria-label=\"design first is good permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Design First is Good</h4>\n<p>But, Don't be loose. Quick Response. small thing first</p>\n<h4 id=\"3개의-의견\" style=\"position:relative;\"><a href=\"#3%EA%B0%9C%EC%9D%98-%EC%9D%98%EA%B2%AC\" aria-label=\"3개의 의견 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3개의 의견</h4>\n<p>서로를 견제하며, 지원하고, 공유하는 구조가 좋은 가치를 만들기에\n좋은 구조인 것 같다\n쿠버네티스를 이렇게 사용할 수 있을까</p>\n<h4 id=\"외부-라이브러리-분리\" style=\"position:relative;\"><a href=\"#%EC%99%B8%EB%B6%80-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-%EB%B6%84%EB%A6%AC\" aria-label=\"외부 라이브러리 분리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>외부 라이브러리 분리</h4>\n<p>외부 라이브러리를 분리하려고 하는데, 그러면 폴더 구조가 어떻게 되는거지</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">- cmd\n- lib1\n- ilb2\n- logic1\n- logic2</code></pre></div>\n<p>이런 식으로 되는 건가</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">- cmd\n- logic1\n\t- lib1\n\t- lib2\n- logic2\n\t- lib1\n\t- lib2</code></pre></div>\n<p>이것보다는 나은 것 같은데 위의 구조에서 라이브러리와 메인 로직의 구분이 안된다</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">- cmd\n- logic1</code></pre></div>\n<p>일단 내 로직이 메인이다\ncmd에서는 이를 한 눈에 보기 좋게 한다\n여기서 이제 라이브러리가 들어간다</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">- cmd\n- logic1\n\t- db_logic\n- db</code></pre></div>\n<p>이렇게 하면 메인에서 구현에 필요한 것을 db에서 받아서 실행하도록 해야한다</p>\n<p>외부 라이브러리가 여러 개 중에 하나를 선택할 수도 있다</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">- cmd\n- logic1\n\t- db_logic\n- db\n\t- redis\n\t- RDBMS</code></pre></div>\n<p>이렇게 하려면 db를 다시 추상화해야한다</p>\n<p>...</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">- db\n\t- redis/\n\t- RDBMS/\n\t- db.go</code></pre></div>\n<p>근데 이렇게 하면 외부 라이브러리를 구현하는 작업이 다시 되야 되서 별로다</p>\n<p>클라이언트 프로그램은 마이크로서비스일 필요 없을 거 같다?</p>\n<p>어차피 외부 라이브러리가 이상이 생겨 못쓰게 되면\n새로운 라이브러리에 맞게 구현해야한다</p>\n<p>그러면 외부 라이브러리 분리는 한 곳에서만 수정하도록 모으는 역할인가?\n그렇다면 외부라이브러리 안에 내부 구현을 호출하도록 해도 되겠다.\n내 코드에서 외부라이브러리를 호출하던 것을\n외부 라이브러리 구현 코드에서 내 코드를 호출하는 것으로\n왜냐하면 http를 쓰려다 보니 내 구현에서 http동작을 호출하는 것이 과한 추상화\n같았고, 구현하기도 매끄럽지 않았다</p>\n<p>메인로직을 서버에서 호출해서 쓰는지\n메인로직에서 서버로직을 호출해서 쓰는지 잘 결정해야한다</p>\n<p>http 서버가 grpc 클라이언트도 해야한다</p>\n<h4 id=\"micro-crud\" style=\"position:relative;\"><a href=\"#micro-crud\" aria-label=\"micro crud permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>micro crud</h4>\n<p>service - crud-service - extension</p>\n<p>crud : api &#x3C;- logic &#x3C;- library</p>\n<p>crud를 해주는 엔드포인트만 나와있고, 내부는 감춰진다\n엔드포인트가 정해져있으면, 나머지끼리 통신하는데 이용한다\nlogic이 api안에 포함되고, logic은 api를 몰라도되고, 외부 라이브러리를 통한\n구현도 로직을 모르게 한다. 일방통행</p>\n<p>crud 모델을 일반화해서 범용적으로 쓸 수 있도록 하고, extension을 붙여 확장한다\nID, Name, Date, Content, Tag 로 구성하고, Content에 다시 내용을 구겨넣는다.\n필요한 곳에서 알아서 쓴다?</p>\n<h4 id=\"마이크로서비스도-인터페이스를-만족하도록-구성하는-것이-좋겠다\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4%EB%8F%84-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4%EB%A5%BC-%EB%A7%8C%EC%A1%B1%ED%95%98%EB%8F%84%EB%A1%9D-%EA%B5%AC%EC%84%B1%ED%95%98%EB%8A%94-%EA%B2%83%EC%9D%B4-%EC%A2%8B%EA%B2%A0%EB%8B%A4\" aria-label=\"마이크로서비스도 인터페이스를 만족하도록 구성하는 것이 좋겠다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마이크로서비스도 인터페이스를 만족하도록 구성하는 것이 좋겠다</h4>\n<p>우리 회사의 api는 다른 기능이라도 같은 방식으로 동작합니다 라고 알려주면\n사용자가 다른 서비스에도 쉽게 접근할 수 있겠다</p>\n<p>스테이징 서버 테스트 시 본 서버의 데이터를 그대로 가져오면 너무 사이즈가\n커지니까 필요에 따라 기간을 정해서 가져올 수 있도록 구현하면 좋을 것 같다</p>\n<h4 id=\"business-logic\" style=\"position:relative;\"><a href=\"#business-logic\" aria-label=\"business logic permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>business logic</h4>\n<p>비즈니스 로직의 함수는 추상적이면 좋겠지만 세부 구현도 비즈니스 로직에 들어가야\n한다. 외부 라이브러리에 비즈니스 로직이 안들어가기 때문에.\n함수 구현은 추상적으로 하고 test code로 세부를 테스트하면 될까?\n세부 구현은 어디서 해야하지?\n인터페이스에 추상이 남아있고, 구현은 세부적으로 하면 될까</p>\n<h4 id=\"input-logic-output의-구조-레고-모델\" style=\"position:relative;\"><a href=\"#input-logic-output%EC%9D%98-%EA%B5%AC%EC%A1%B0-%EB%A0%88%EA%B3%A0-%EB%AA%A8%EB%8D%B8\" aria-label=\"input logic output의 구조 레고 모델 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>input, logic, output의 구조 (레고 모델)</h4>\n<p>go-kit, gRPC도 이런 구조로 구성하려고 했다. 이 방법이 먹히는 것 같다.\nopenfaas도 request, response 구조</p>\n<p>레고모듈이 완벽한건 아니지만 괜찮은 모델이다</p>\n<p>부족한 부분</p>\n<ul>\n<li>유기적인 얽힘이 되면 좋겠다</li>\n</ul>\n<p>api gateway에서 이걸 처리하고\n로직은 json만 대응하도록\n로직에서는 내가 필요한 데이터가 있는지 확인하는 발리데이션을 해서 로직 수행</p>\n<ul>\n<li>json으로 입력받아 json으로 출력</li>\n<li>http response로 출력</li>\n</ul>\n<p>json으로 필터링 해서 결과값 보내주는 어댑터(플러그인) 만들어서 쓰면 좋겠네</p>\n<p>grpc로 이걸 하면 proto 파일에 모델, 함수 적고, 구현파일을 만들면 이런 형태가\n만들어 질거 같다.\n여기에 grpc gateway를 써서 http로 받을 수 있게 하고, documentation 되는지 확인</p>\n<p>api는 연결부위 설계를 잘 해야겠다. input값, output값</p>\n<ul>\n<li>메인로직을 만들고 컨테이너화해서 배포하면, 사이드카가 api routing해주고,\n데이터 보관하도록 만들고 싶다. 메인로직의 input과 output만 잘 유도하면 될 것\n같은데, fastapi와 python 머신러닝 api화 해주는 서비스가 있던데 확인해봐야겠다.</li>\n</ul>\n<h4 id=\"유한-상태-기계-state-machine\" style=\"position:relative;\"><a href=\"#%EC%9C%A0%ED%95%9C-%EC%83%81%ED%83%9C-%EA%B8%B0%EA%B3%84-state-machine\" aria-label=\"유한 상태 기계 state machine permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>유한 상태 기계 state machine</h4>\n<p>input -> output 으로 가는 구조인데\n수학적 안정성을 가진 구조</p>\n<p>if - else 로 관리하기 힘든 상태관리를 안정적으로 할 수 있게 해준다</p>\n<p>오토마타 = 유한 상태 기계</p>\n<p>input output 구조가 수학적으로 안정성을 가질 수 있다는 것이다.</p>\n<h4 id=\"library\" style=\"position:relative;\"><a href=\"#library\" aria-label=\"library permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>library</h4>\n<p>모든 코드를 라이브러리화 하면 각 라이브러리를 호출하는 어댑터를 만들게 되고 너무\n비대해진다.\n그렇다고 어댑팅 안하면 라이브러리 수정 시 여기 저기서 바꿔야 된다.\n그렇다고 라이브러리를 일관된 형태로 유지하자면 그것도 쉽지 않다</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">lib1\n- file\n\nsource1\n- main\n- lib1-adapter\n\nsource2\n- main\n- source1-adapter\n- lib1-adapter</code></pre></div>\n<p>이런 구조가, 라이브러리 변경 시</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">lib1\n- file-v2 // 변경\n\nsource1\n- main\n- lib1-adapter // 변경\n\nsource2\n- main\n- source1-adapter\n- lib1-adapter // 변경</code></pre></div>\n<p>수정이 전체에 영향을 미치면 안된다.</p>\n<h4 id=\"라이브러리를-api-처럼-호출하기\" style=\"position:relative;\"><a href=\"#%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC%EB%A5%BC-api-%EC%B2%98%EB%9F%BC-%ED%98%B8%EC%B6%9C%ED%95%98%EA%B8%B0\" aria-label=\"라이브러리를 api 처럼 호출하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>라이브러리를 api 처럼 호출하기</h4>\n<p>모놀리스에서 다른 모듈 간 데이터 불러올 때 임포트 해서 함수로 호출한다\n마이크로서비스에서 api로 호출하는게 일반적이겠지만\n임포트 라이브러리를 만들어서 직접 api에 접근하는게 아니라 라이브러리를 통해서 접근하게 하면 전환이 쉬울 것 같다</p>\n<p>Product\nPurchase</p>\n<p>Purchase\nImport product\nProduct = product.getName\nPurchase.product = Product</p>\n<p>근데 내부 서비스는 외부와 격리되있고\n조합해서 호출하는건 별개의 서비스에서 했으면 좋겠다\n그러면 호출은 어디서 하지?</p>\n<p>메인 함수에 어떤 api 사용하는지 나타내는 방식으로 해서\n서버에 올릴 때 메인 함수의 api 응답 시간을 확인만 하면 되도록 하면 좋겠다\n프로젝트 메인이 아니라 라이브러리 메인을 체크해야겠다</p>\n<p>| api | -- | business logic | -- | data crud\n| business logic2 |\n| 3 |\n| 4 |\n| 5 |</p>\n<p>이렇게 구성 돼있다면 data crud는 공통 로직으로 쓰는 역할(share library)\n비즈니스 로직에서는 api로 crud를 제어한다.\naggregation api를 따로 만든다\ndata crud는 index단위로 같은 로직으로 여러개를 만든다\ngrpc로 만들어서 쓴다\n컴퓨팅 로직은 서버리스로 배포해서 api로 쓴다\n인프라 코드가 각 비즈니스로직을 접근할 수 있도록 사이드카를 장착한다</p>\n<p>데이터베이스 crud 서비스로 레포지토리를 모을까?\n호출할 때는 어떻게 구분하지?</p>\n<p>데이터 불러오는 곳도 각 서비스마다 구현을 해야하는데, db 종류에 상관없이\n받아들이는 부분도 있어야하는데.. 그러면 데이터베이스 쪽만 2단계가 되서 마음에\n안든다</p>\n<p><img src=\"msa.png\" alt=\"msa\"></p>\n<h4 id=\"아키텍처를-만들면서-구체적인-예제를-적으면서-해본다-행동\" style=\"position:relative;\"><a href=\"#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EB%A5%BC-%EB%A7%8C%EB%93%A4%EB%A9%B4%EC%84%9C-%EA%B5%AC%EC%B2%B4%EC%A0%81%EC%9D%B8-%EC%98%88%EC%A0%9C%EB%A5%BC-%EC%A0%81%EC%9C%BC%EB%A9%B4%EC%84%9C-%ED%95%B4%EB%B3%B8%EB%8B%A4-%ED%96%89%EB%8F%99\" aria-label=\"아키텍처를 만들면서 구체적인 예제를 적으면서 해본다 행동 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>아키텍처를 만들면서 구체적인 예제를 적으면서 해본다 :행동:</h4>\n<p>예제가 있어서 내용이 길어지는 부분은 트레이드오프...</p>\n<h4 id=\"한-아키텍처에-너무-많은-것을-넣으려고-하다가-이도저도-아니게-되겠다\" style=\"position:relative;\"><a href=\"#%ED%95%9C-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EC%97%90-%EB%84%88%EB%AC%B4-%EB%A7%8E%EC%9D%80-%EA%B2%83%EC%9D%84-%EB%84%A3%EC%9C%BC%EB%A0%A4%EA%B3%A0-%ED%95%98%EB%8B%A4%EA%B0%80-%EC%9D%B4%EB%8F%84%EC%A0%80%EB%8F%84-%EC%95%84%EB%8B%88%EA%B2%8C-%EB%90%98%EA%B2%A0%EB%8B%A4\" aria-label=\"한 아키텍처에 너무 많은 것을 넣으려고 하다가 이도저도 아니게 되겠다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>한 아키텍처에 너무 많은 것을 넣으려고 하다가 이도저도 아니게 되겠다</h4>\n<p>처음에 집중할 목표를 잡고 작게 작게 처리해 나가야 하겠다 :행동:</p>\n<p>개인이 제작하는 프로그램에는 규모의 한계가 있다\n프로토타입 수준의 프로그램이 제작될 따름인데 개인 프로젝트의 의미는 무엇일까?\n스스로 기술 발전을 할 수 있다. 기술 발전을 해서 무엇을 하나. 기술 협력을 통해\n기술 발전에 기여한다.\n회사가 아닌 다른 기술 발전 기여 통로를 만들어야겠다</p>\n<p>작은 양의 코드를 수정하는데도 정리가 안되어 무엇을 건드려야 할지 막막해지는\n순간이 있었다. 작은 크기로 함수들을 쪼개놓았는데 그 함수들이 여러개가 되다 보니\n길을 잃은 것 같다. 어떻게 길을 찾아야 할까</p>\n<h4 id=\"레고식-아키텍처\" style=\"position:relative;\"><a href=\"#%EB%A0%88%EA%B3%A0%EC%8B%9D-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98\" aria-label=\"레고식 아키텍처 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>레고식 아키텍처</h4>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">type</span> Lego <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">{</span>\n    Name <span class=\"token builtin\">string</span>\n    ID <span class=\"token builtin\">string</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">type</span> Request <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">{</span>\n    content <span class=\"token builtin\">string</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">Attach</span><span class=\"token punctuation\">(</span>r Request<span class=\"token punctuation\">)</span> Lego <span class=\"token punctuation\">{</span>\n    result <span class=\"token operator\">:=</span> Lego<span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> result\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>입력, 로직, 출력 형태로 함수들(또는 api endpoint)을 제작하면 모듈로 쓰기 좋을 것 같다</p>\n<p>일관된 형태를 갖고 있어서 레고처럼 갖다 붙이기 좋을 것 같다</p>\n<p>입력과 출력을 모두 json형태로 받으면 유연하게 데이터를 받고 쓸 수 있을 것 같다</p>\n<p>이런 형태로 이미 구현되어 있는 것이 gRPC인 것 같다.</p>\n<p>언어에도 유연하고, 형태도 명확해서 gRPC 기반으로 개발을 하고, 변형하면 좋을 것 같다</p>\n<p>REST로 변경해주는 api도 있다.</p>\n<p>gRPC를 이용하되, gRPC에 묶이지 않아야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token comment\">// feature.proto</span>\n<span class=\"token keyword\">package</span> feature\n\nservice Feature <span class=\"token punctuation\">{</span>\n\trpc <span class=\"token function\">GetFeature</span><span class=\"token punctuation\">(</span>Request<span class=\"token punctuation\">)</span> <span class=\"token function\">returns</span><span class=\"token punctuation\">(</span> Feature<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\trpc <span class=\"token function\">RecordRoute</span><span class=\"token punctuation\">(</span>stream Request<span class=\"token punctuation\">)</span> returns <span class=\"token punctuation\">(</span>RouteSummary<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nmessage Request <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">string</span> content <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nmessage Feature <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">int32</span> id <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token builtin\">string</span> name <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// server.go</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"net\"</span>\n    <span class=\"token string\">\"log\"</span>\n    <span class=\"token string\">\"context\"</span>\n\n    <span class=\"token string\">\"google.golang.org/grpc\"</span>\n    pb <span class=\"token string\">\"github.com/example/feature\"</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">type</span> server <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">{</span>\n    pb<span class=\"token punctuation\">.</span>UnimplementedFeatureServer\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>server<span class=\"token punctuation\">)</span> <span class=\"token function\">GetFeature</span><span class=\"token punctuation\">(</span>ctx context<span class=\"token punctuation\">.</span>Context<span class=\"token punctuation\">,</span> request <span class=\"token operator\">*</span>pb<span class=\"token punctuation\">.</span>Request<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>pb<span class=\"token punctuation\">.</span>Feature<span class=\"token punctuation\">,</span> <span class=\"token builtin\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&amp;</span>pb<span class=\"token punctuation\">.</span>Featrure<span class=\"token punctuation\">{</span>id<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"sam\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">nil</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    lis<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> net<span class=\"token punctuation\">.</span><span class=\"token function\">Listen</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"tcp\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\":9000\"</span><span class=\"token punctuation\">)</span>\n    s <span class=\"token operator\">:=</span> grpc<span class=\"token punctuation\">.</span><span class=\"token function\">NewServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    pb<span class=\"token punctuation\">.</span><span class=\"token function\">RegisterFeatureServer</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>server<span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">:=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">Serve</span><span class=\"token punctuation\">(</span>lis<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">Fatalf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"faield to serve: %v\"</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">protoc --</code></pre></div>\n<p>이것이 요청을 받아 출력을 해주는 gRPC의 뼈대다.</p>\n<p>이것을 매 프로젝트마다 만드는 것은 다소 귀찮은 부분이 있다.</p>\n<p>조금 간소화해서 Feature와 메인 로직만 구현하면 되도록 할 필요가 있다.</p>\n<p>go의 마이크로서비스 섀시인 micro와 go-kit에서 이를 구현해놨다. ㅋ</p>\n<p>awesome grpc에 정보가 모여 있다.</p>\n<p>이걸 모델과 로직을 입력해서 결과는 /feature 호출하면 feature를 리턴해주는 api 역할을 해야한다.</p>\n<p>필터 역할 하는 api라면</p>\n<p>{name:\"sam\", age:\"10\"}, {name:\"kim\", age:\"15\"} 이라는 값을 입력으로 넣으면</p>\n<p>정렬해서 정렬된 값을 리턴해주는 api가 만들어져야 한다</p>\n<h4 id=\"프로젝트-시작-시-꼭-필요한-것\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%8B%9C%EC%9E%91-%EC%8B%9C-%EA%BC%AD-%ED%95%84%EC%9A%94%ED%95%9C-%EA%B2%83\" aria-label=\"프로젝트 시작 시 꼭 필요한 것 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프로젝트 시작 시 꼭 필요한 것</h4>\n<p>모델 정의</p>\n<p>모델 정의한 것을 서버리스로 배포.\n그러면 각 모델의 연결은 어떻게?\n람다로 한다면 제품 등록은 하나의 모델에 업데이트 하면 되는데, 불러올 때는 정보들이 묶여있는 상태로 불러야 호출 횟수를 줄일 수 있다.\n근데 또 등록할 때 유저의 상태도 업데이트 하려면 등록도 두 개의 호출을 해야하긴 한다</p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{"id":"확장성","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%ED%99%95%EC%9E%A5%EC%84%B1","ariaLabel":"확장성 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"확장성"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"50 유저를 상대로 운영하고 있지만 10만 유저를 상대할때도 문제가 생기지 않게\n염두에 두고 수정한다. 하지만 임시방편으로 해결할 때도 있다.\n그런 임시방편을 잘 리스트화해서 처리를 잘 해야겠다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"단일고장점이 없는 아키텍처라면\n새로운 기술을 도입하는 것이 쉽게 될 수 있겠다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"hdd로 구축된 서버에서 한대만 ssd로 교체해서 상황을 지켜보고, 문제가 있어도 다른\n서버에서 커버할 수 있다면 문제점 파악하는데에 도움이 되겠다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"소프트웨어 자체의 에러가 전체에 영향을 미치지 못하도록 하면 다른 것으로 교체하면\n그만이라서 관리하기 쉽겠다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"3대의 서버를 켜놓고 1대씩 리부팅을 해도 나머지 2대가 있어서 괜찮다면 오래 켜놔서\n생기는 문제를 막을 수 있듯이\n일부러 1대씩 계속 재부팅되도록 하고, 상태저장이 필요 없도록 하면 os의 문제에서\n조금은 자유로워지지 않을까\n재부팅하면 캐시가 다시 쌓여야하는 부분은 확인해봐야겠다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"3대의 서버를 한 묶음으로 추가 자원이 필요하면 이 묶음이 여러개가 되도록 하면\n확장성 문제도 해결되지 않을까?\n쿠버네티스에서는 이를 지원해준다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"쿠버네티스는 고가용성, 확장성, 배포를 바로 할 수 있게 해줘서 좋다\n서버는 필연적으로 고가용성과 확장성과 배포가 필요하다\n추가로 모니터링, 로깅도 세트다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"portable-universal","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#portable-universal","ariaLabel":"portable universal permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"portable, universal"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"새로운 기술이나 지식을 얻었을 때 우리의 업무에 바로 적용할 수 있는 자유로움"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"회사의 상황에 맞추기보다 표준에 맞추는 방향"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"데이터베이스를 커스터마이징하기보다 어댑터를 이용해 원본은 잘 지켜나가서 새로운\n것이 생겼을 때 바로 도입할 수 있는 환경"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"관리-편한-인프라","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EA%B4%80%EB%A6%AC-%ED%8E%B8%ED%95%9C-%EC%9D%B8%ED%94%84%EB%9D%BC","ariaLabel":"관리 편한 인프라 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"관리 편한 인프라"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"기본 매커니즘이 단순하고 간결하고 명확한"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"요즘 플러그인 방식"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"간단한 형태를 유지하면서 변화에 유연한 서비스"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"변하는-것과-변하지-않는-것-vscollection","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EB%B3%80%ED%95%98%EB%8A%94-%EA%B2%83%EA%B3%BC-%EB%B3%80%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EA%B2%83-vscollection","ariaLabel":"변하는 것과 변하지 않는 것 vscollection permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"변하는 것과 변하지 않는 것 :vs:collection:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"변하지 않는 것은 없지만 빠르게 변하는 것과 천천히 변하는 것은 나눠져 있다\n아키텍처를 구성할 때 천천히 변하는 것을 잘 분리하여 빨리 변하는 것에 더 집중하고\n천천히 변하는 것은 잘 유지할 수 있도록 하면 좋겠다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"아이폰의 뒷면"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"소프트웨어는-언제까지-확장되는게-좋을까","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%EB%8A%94-%EC%96%B8%EC%A0%9C%EA%B9%8C%EC%A7%80-%ED%99%95%EC%9E%A5%EB%90%98%EB%8A%94%EA%B2%8C-%EC%A2%8B%EC%9D%84%EA%B9%8C","ariaLabel":"소프트웨어는 언제까지 확장되는게 좋을까 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"소프트웨어는 언제까지 확장되는게 좋을까"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"무한정 소프트웨어가 비대해지면 관리도 힘들고, 또 그렇게 커질 필요도 없다\n네이버에서는 검색 기능은 다른 기능과 분리되어 있고, 팀도 따로 분리되어 있다.\n회사 팀 구조도 개발팀을 다른 팀과 분리하는 경우도 있고,\n기능별로 개발,디자인,기획을 같은 팀에 구성하는 경우도 있을텐데,\n어떤 경우에 어떤 구성이 좋을까"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"확장---모듈","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%ED%99%95%EC%9E%A5---%EB%AA%A8%EB%93%88","ariaLabel":"확장   모듈 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"확장 -> 모듈"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"각 서비스가 많은 트래픽을 감당할 수 있어야 하고,\n분산 처리 시스템처럼, 묶였을 때 트래픽 처리가 선형적으로 증가 되야 한다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"쉽게 교체할 수 있는 모듈의 형태로 구성되야 한다. 하지만 쉽게 교체할 수 있다는\n것이 진리는 아니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"기능별로 팀이 구성되 있을 때 그 팀에 오래 있던 사람이 나가고 새로운 사람이\n들어오면 새로운 사람이 대체하려면 아주 힘들다. 애초에 대체는 안되고 다른 역할이\n되겠지만.\n메뉴얼이 쌓여있어도 기존 작업을 100% 알 수 없다.\n기능별로 집중했기 때문에 깊고 많은 내용이 섞여있고, 그래서 기능적으로\n성숙해졌지만 새로운 사람에게는 따라가야 할 길이 멀어진다.\n이게 경험의 차이라고 불리워지는 것인 것 같다.\n기능별 팀에서의 문제가 아니라 인간세상의 문제였다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"기능의 깊이가 어느정도 깊어지면 다시 분리해야 한다.\n근데 사람의 수는 한정적이어서 분리가 안된다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"server-architecture-to-using-some-company-service","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#server-architecture-to-using-some-company-service","ariaLabel":"server architecture to using some company service permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"server architecture to using some company service"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"특정 서비스에 종속되는 것을 조심하고 다양한 기술을 써봐야겠다\n처음에는 특정기술에 의존하는 것이 영속성이 없어서 서버아키텍처에 포함하면 안되지\n않을까 싶었지만 기술적으로 파악하고 사용하고 종속되지 않도록 해야겠다\n앞으로도 새로운 기술을 계속 써야하기에 지금 있는 기술을 두루두루 다뤄봐야겠다\n그러나 내 서버 아키텍처는 단순하고 가벼웠으면 좋겠는데 여러 기술을 사용하면\n복잡해질 수 밖에 없는데 이를 계속 생각하고 있다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"가볍고 버전 의존성 적은 라이브러리를 선택하려고 해야겠다"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"아키텍처-고민-사항","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EA%B3%A0%EB%AF%BC-%EC%82%AC%ED%95%AD","ariaLabel":"아키텍처 고민 사항 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"아키텍처 고민 사항"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이런 관점에서 쿠버네티스, react, graphql, backend를 어떻게 구성해야하나?\n정책과 세부사항이 너무 많으면 기준점을 잘 지켜나갈 수 있을까?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"비즈니스 로직에서 추상화를 어디까지 하는게 좋을까\n과한 추상화는 실체가 없다는 느낌을 줄 수 있겠다.\n어디까지 추상화를 할지는 어떤 목적으로 프로그램을 만드느냐에 따라 조정된다\n모든 것이 추상화되고 가변적일 필요는 없다\nMysql tip 글에서 DB 모델링 시 지나친 추상화를 하지 말라는 조언이 있었다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"언어를 넘어서는 추상화"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"포팅을 쉽게 할 정도의 추상화"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"모듈","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EB%AA%A8%EB%93%88","ariaLabel":"모듈 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"모듈"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"module","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#module","ariaLabel":"module permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"module"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"부피가 아주 커지면 모듈화로 분리하는게 좋다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"작은 모듈은 무수히 많이 만들게 허용한다\n그 모듈들은 하나의 추상적인 객체가 된다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"스테이지 서버를 없애는 것"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"이-세상-모든-것은-연결되어있다","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EC%9D%B4-%EC%84%B8%EC%83%81-%EB%AA%A8%EB%93%A0-%EA%B2%83%EC%9D%80-%EC%97%B0%EA%B2%B0%EB%90%98%EC%96%B4%EC%9E%88%EB%8B%A4","ariaLabel":"이 세상 모든 것은 연결되어있다 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"이 세상 모든 것은 연결되어있다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"소프트웨어에서도 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"종속성"}]},{"type":"text","value":"이 없을 수 없다\n"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"의존성"}]},{"type":"text","value":"이 항상 필요하다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"효율적인 구성으로 족쇄가 되지ㄹ 않아야 한다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그리고 모든 연결은 상호간 약속이 되있어야 소통이 원활해진다\nHTTP 프로토콜, ITU 주파수 대역 등의 규약은 제약이 아니라 통신을 원활하게 하기\n위한 약속이고, 이를 통해 효과적으로 통신할 수 있게 된다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그룹을 대표하는 대표를 뽑아서 소통하는 것이 인류의 해답 - 간접 민주주의\n그룹의 대표가 그룹을 정말로 잘 이해해야 한다. 그것이 현실의 문제점"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"why-module-is-worth","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#why-module-is-worth","ariaLabel":"why module is worth permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"why module is worth"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"모듈을 안쓰면"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"작은 수정에 많은 업데이트 시간이 걸린다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"동시에 여러 작업을 하기 어렵다"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"작은-것으로-쪼개어도-해결되지-않는-문제","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EC%9E%91%EC%9D%80-%EA%B2%83%EC%9C%BC%EB%A1%9C-%EC%AA%BC%EA%B0%9C%EC%96%B4%EB%8F%84-%ED%95%B4%EA%B2%B0%EB%90%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EB%AC%B8%EC%A0%9C","ariaLabel":"작은 것으로 쪼개어도 해결되지 않는 문제 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"작은 것으로 쪼개어도 해결되지 않는 문제"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"세계를 개인의 합이라고 생각할 수 있는데\n개인을 안다고 세계를 다 알 수는 없다\n개인이 모여 그룹이 되고 그룹이 모여 더 큰 그룹이 되면\n개인의 행동양식과는 다른 결과가 나올 수 있다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"경제학에서 개인의 경제행위를 연구하는 것만으로는 시장을 다 알 수 없어 거시경제라는 개념이 나왔다\n기업은 개인의 판단과 다른 판단을 할 수 있다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"작은 단위를 합쳐 크게 만들면 또 다른 변화가 만들어진다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"카오스 이론, 복잡계"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"모듈-1","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EB%AA%A8%EB%93%88-1","ariaLabel":"모듈 1 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"모듈"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"집에 살 때 한 부분이 고장났다고 집 전체를 바꿀 수 없는 것처럼 각 부분이 잘 분리되야한다\n집에 있는 가구들이나, 집 자체에 결함이 생기면 전체를 고치기보다 부품만 교체하기를 원한다.\n라즈베리파이가 100대 있으면, 각 역할별로 나눠져 있어도, 고쳐야하는 요소가 많아져서 번거롭다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"프로젝트를-모듈로-구성","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%EB%AA%A8%EB%93%88%EB%A1%9C-%EA%B5%AC%EC%84%B1","ariaLabel":"프로젝트를 모듈로 구성 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"프로젝트를 모듈로 구성"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"모듈은 한 팀의 인원정도만 사용\n기존 데이터 이용 필요시 CQRS를 응용해서 데이터쿼리용 저장소를 이용"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"도메인의 스펙을 분석해서 적용하는 작업이 계속 될 수 있어야 한다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"각 프로젝트마다 모듈로 구성\n모듈의 개수는 팀원의 수 정도\n기존의 데이터가 필요하면 어떻게 가져오나\nCQRS를 응용해서 공통 데이터 저장소를 따로 둔다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"람다로 함수들을 만들어서 gcp와 aws에 이중화하고\n로컬 서버에서 로드밸런서로 비용안들게 호출하도록 할 수 있을까\n호출횟수를 모니터링해서 로드밸런서가 확인하도록"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"각 세부 폴더에\n도메인로직, 데이터, 유닛, api, 외부 함수, 통신 로직를 넣으면\nmvc 패턴에서 구현하는 것을 모두 구현할 수 있나?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"레고형-아키텍처-module","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EB%A0%88%EA%B3%A0%ED%98%95-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-module","ariaLabel":"레고형 아키텍처 module permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"레고형 아키텍처 :module:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"레거시를 계속 쓰려고\n모듈화의 좋은 방법이라 생각\n응답과 결과의 형태를 통일해서 쉽게 교체가 가능할 것 같다\n처음에 완벽한 형태를 짜는 것이 불가능하기 때문에 변화하기 쉬운 형태로 짜놓는다.\n공통된 방식을 쓰면 변경이 쉽지 않을까."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"데이터-확장-모듈","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%99%95%EC%9E%A5-%EB%AA%A8%EB%93%88","ariaLabel":"데이터 확장 모듈 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"데이터 확장 모듈"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"아이디를 같이 쓰고 추가 데이터를 붙여서 호출할 수 있도록 하면 마이크로서비스에서\n데이터형식을 좀 더 자유롭게 쓸 수 있지 않을까"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"블록들을 모아서 전체를 구성하는 것이 좋다\n재사용성이 늘고, 확인할 지점이 적절한 양이다. 작은 문제부터 접근하기 좋다.\n근데 블록들이 다 제각각이면 챙겨야하는 지점이 늘어난다.\n가져온 블록의 내부가 복잡하면 조치하기 힘들다. 간단한 것들로 많이 붙이면 겉잡을\n수 없이 커져서 오히려 하나 하나 확인할 수 없다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"점진적으로 변화할 수 있는 데이터 저장소가 있으면, 일단 저장해놓고 점점 살을 붙여\n나중에 잘 써먹을 수 있다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"지역성의 원리로 캐싱을 하면 이전 작업과 거리가 있는 작업을 하게 되면 캐싱을 새로\n해야한다. 이 점을 보완하고 싶다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"기능을-잘게-쪼개면-전체를-조망하기-쉬워지지-않을까-module","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EA%B8%B0%EB%8A%A5%EC%9D%84-%EC%9E%98%EA%B2%8C-%EC%AA%BC%EA%B0%9C%EB%A9%B4-%EC%A0%84%EC%B2%B4%EB%A5%BC-%EC%A1%B0%EB%A7%9D%ED%95%98%EA%B8%B0-%EC%89%AC%EC%9B%8C%EC%A7%80%EC%A7%80-%EC%95%8A%EC%9D%84%EA%B9%8C-module","ariaLabel":"기능을 잘게 쪼개면 전체를 조망하기 쉬워지지 않을까 module permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"기능을 잘게 쪼개면 전체를 조망하기 쉬워지지 않을까 :module:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"기능이 커지면 분리하는 방식은\n새로 접근하는 사람이 기능을 파악하는데는 도움이 될 수 있지만 하나를 파악해도\n파악하지 못한 나머지 기능들이 많아서 너무 많아 질리거나 본질에 접근 못한다는\n느낌을 받을 수 있겠다.\n'그건 내 잔상이다' 의 반복 같은 느낌"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"포터블은-꼭-필요한-가치인가","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%ED%8F%AC%ED%84%B0%EB%B8%94%EC%9D%80-%EA%BC%AD-%ED%95%84%EC%9A%94%ED%95%9C-%EA%B0%80%EC%B9%98%EC%9D%B8%EA%B0%80","ariaLabel":"포터블은 꼭 필요한 가치인가 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"포터블은 꼭 필요한 가치인가?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"모듈화를 하면 포터블한 코드"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"유연성이 확보돼있다"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"분산","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EB%B6%84%EC%82%B0","ariaLabel":"분산 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"분산"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"1인가구, 마이크로 서비스 아키텍처, 블록체인의 탈중앙화가 닮은 것 같다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"탈중앙화"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"분산화"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"민주주의"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"분산 서비스"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"고가용성"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"마이크로서비스"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"조직 구조도?"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"확장은 필연적으로 복잡성을 만든다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"[[Technology#분산 대 탈중앙화]]"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"이동통신-시스템이-분산-처리-시스템에서-잘-돌아가고-있는-사례인-것-같다","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EC%9D%B4%EB%8F%99%ED%86%B5%EC%8B%A0-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%9D%B4-%EB%B6%84%EC%82%B0-%EC%B2%98%EB%A6%AC-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%97%90%EC%84%9C-%EC%9E%98-%EB%8F%8C%EC%95%84%EA%B0%80%EA%B3%A0-%EC%9E%88%EB%8A%94-%EC%82%AC%EB%A1%80%EC%9D%B8-%EA%B2%83-%EA%B0%99%EB%8B%A4","ariaLabel":"이동통신 시스템이 분산 처리 시스템에서 잘 돌아가고 있는 사례인 것 같다 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"이동통신 시스템이 분산 처리 시스템에서 잘 돌아가고 있는 사례인 것 같다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"데이터베이스의 레플리카 기능과 샤딩\n일라스틱서치\n하둡"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"multi-processing","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#multi-processing","ariaLabel":"multi processing permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Multi Processing"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"분산 시스템의 고민과 비슷한 고민이 멀티 프로세스를 사용하려는 시도에도 있겠다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"MPI라는 인터페이스가 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://operatingsystems.tistory.com/entry/High-Performance-Computing-MPI"},"children":[{"type":"text","value":"https://operatingsystems.tistory.com/entry/High-Performance-Computing-MPI"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://hpcschool.kr/usc/wp-content/uploads/sites/10/2014/04/MPI.pdf"},"children":[{"type":"text","value":"http://hpcschool.kr/usc/wp-content/uploads/sites/10/2014/04/MPI.pdf"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Apache의 MPM"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"분산-개발-환경의-해결책으로-ci가-나왔다","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EB%B6%84%EC%82%B0-%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD%EC%9D%98-%ED%95%B4%EA%B2%B0%EC%B1%85%EC%9C%BC%EB%A1%9C-ci%EA%B0%80-%EB%82%98%EC%99%94%EB%8B%A4","ariaLabel":"분산 개발 환경의 해결책으로 ci가 나왔다 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"분산 개발 환경의 해결책으로 ci가 나왔다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"분산 서비스간의 통합도 ci 같이 할 수 있을까"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"일단 데이터를 통합하는 서비스를 이용한다던가"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"계층적인-것과-분산된-것","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EA%B3%84%EC%B8%B5%EC%A0%81%EC%9D%B8-%EA%B2%83%EA%B3%BC-%EB%B6%84%EC%82%B0%EB%90%9C-%EA%B2%83","ariaLabel":"계층적인 것과 분산된 것 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"계층적인 것과 분산된 것"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"중첩\n폴더 안에 폴더를 두는 구조는 유용하지만 복잡해져서 별로 안좋은 것 같다\n그래서 프로젝트 사이즈도 폴더 중첩이 없는 정도로 나누고 싶은데\n그러다보면 작은 덩어리가 많아져서 어디에 무엇이 있는지 모를 수 있겠다\n그래서 정돈이 필요한데, 이 정돈을 어떻게 할 수 있을까"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"트리 구조의 깊이가 깊어지는 것과 넓이가 넓어지는 것은 비슷한 복잡도인가?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"넓이가 넓어져서 관리가 힘들 상황을 생각해보면, 놀이터가 넓으면 선생님이 주변에\n있는 아이가 아니면 어떤 일이 벌어지는지 알 수 없다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"복잡성을 염두에 두고 미리 뼈대를 만들어 놓는 것보다, 작게 분리하는 것이 복잡성을\n컨트롤 할 더 나은 방법 같다.\n자바의 폴더구조가 처음부터 중첩된 폴더를 미리 만들어 놓는 방식인데, 이런 부분이\n거슬린다. 폴더 안에 폴더가 들어가면서 깊어지면 컨트롤이 어려워질 것 같다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"근데 go standard layout 에서 cmd 폴더 안에 메인 함수들을 폴더로 구성하게 하는\n것을 추천해서 자바와 비슷한 구조를 베스트 프렉티스로 했다. 복잡한 서비스에서는\n중첩이 최선인가. 3단 중첩은 필요한가"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"[[About_Development#module]]"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"마이크로서비스의-해법을-다른-분산-시스템에서-얻고자-한다","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4%EC%9D%98-%ED%95%B4%EB%B2%95%EC%9D%84-%EB%8B%A4%EB%A5%B8-%EB%B6%84%EC%82%B0-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%97%90%EC%84%9C-%EC%96%BB%EA%B3%A0%EC%9E%90-%ED%95%9C%EB%8B%A4","ariaLabel":"마이크로서비스의 해법을 다른 분산 시스템에서 얻고자 한다 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"마이크로서비스의 해법을 다른 분산 시스템에서 얻고자 한다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"전체를 퉁쳐서 하나로 규정하려는게 아니라 기존의 문제점들을 확인하고 어떤 해법들이 있었는지 정보를 얻기 위해서"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"라즈베리파이","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC%ED%8C%8C%EC%9D%B4","ariaLabel":"라즈베리파이 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"라즈베리파이"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"라즈베리파이를 여러 대 두면 라즈베리파이가 하나씩 고장날 때마다 고쳐야 한다는 의미도 된다. 데스크탑 하나만 쓰면 전체가 한번에 관리된다. 물론 라즈베리파이 쪽이 싸게 처리되지만, 100대가 있을 때 매번 고치기는 힘들 것 같다. 대신 라즈베리파이 하나가 고장나도 시스템은 그대로 유지될 수 있다는 장점이 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"설계","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EC%84%A4%EA%B3%84","ariaLabel":"설계 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"설계"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"아키텍처-노하우","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EB%85%B8%ED%95%98%EC%9A%B0","ariaLabel":"아키텍처 노하우 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"아키텍처 노하우"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"변하는 것과 변하지 않을 것을 구분하기 위한 나열"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"시나리오 전개"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"완성본을 상상"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"적재적소"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"알림-시스템-설계","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EC%95%8C%EB%A6%BC-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84","ariaLabel":"알림 시스템 설계 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"알림 시스템 설계"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"가상 면접 사례로 배우는 대규모 시스템 설계 기초"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"인사이트"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"10장 알림 시스템 설계"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"kums의 설계와 매우 유사하게 구성되어있다\n신기하다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"개발-시작부터-확장의-반복","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EA%B0%9C%EB%B0%9C-%EC%8B%9C%EC%9E%91%EB%B6%80%ED%84%B0-%ED%99%95%EC%9E%A5%EC%9D%98-%EB%B0%98%EB%B3%B5","ariaLabel":"개발 시작부터 확장의 반복 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"개발 시작부터 확장의 반복"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"가장 간단한 실행을 위한 설계"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"폴더 만들기\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"note"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"구현해야 하는 것 적고 결과값 적기\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"note/main_test.go"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"테스트 통과시키기\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"note\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"main.go"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"main_test.go"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"기능 추가를 위해 설계"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"파일 추가"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"반복"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그러다가 어느 시점이 되면 아래 정도의 복잡성이 생긴다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"note"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"logic1\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"main.go"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"data.go"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"adapter.go"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"logic2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"api\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"http.go"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"grpc.go"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"lib"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이런 구조에서 더 복잡성이 필요해지면 분리하기 좋다는 신호다.\n그래서 저 코드 구조가 반복되면 확장이 된다.\n인프라는 저 구조를 쉽게 컨트롤하도록 구성된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"인프라 - 서비스 - 데이터의 구조로 한 인프라가 구성되고\n이것이 다시 프렉탈로 반복된다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"as-after-service","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#as-after-service","ariaLabel":"as after service permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"A/S, after service"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"a/s can announce to me that what I missed, and what can I grow.\na/s is just doing the same work. not to be known.\nsometimes when before the same work. it is good to evolve knowledge. but cannot control what I want.\nit makes me spent time a lot. and annoying.\na/s is need"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"design-first-is-good","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#design-first-is-good","ariaLabel":"design first is good permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Design First is Good"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"But, Don't be loose. Quick Response. small thing first"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"3개의-의견","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#3%EA%B0%9C%EC%9D%98-%EC%9D%98%EA%B2%AC","ariaLabel":"3개의 의견 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"3개의 의견"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"서로를 견제하며, 지원하고, 공유하는 구조가 좋은 가치를 만들기에\n좋은 구조인 것 같다\n쿠버네티스를 이렇게 사용할 수 있을까"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"외부-라이브러리-분리","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EC%99%B8%EB%B6%80-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-%EB%B6%84%EB%A6%AC","ariaLabel":"외부 라이브러리 분리 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"외부 라이브러리 분리"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"외부 라이브러리를 분리하려고 하는데, 그러면 폴더 구조가 어떻게 되는거지"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"- cmd\n- lib1\n- ilb2\n- logic1\n- logic2"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이런 식으로 되는 건가"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"- cmd\n- logic1\n\t- lib1\n\t- lib2\n- logic2\n\t- lib1\n\t- lib2"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이것보다는 나은 것 같은데 위의 구조에서 라이브러리와 메인 로직의 구분이 안된다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"- cmd\n- logic1"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"일단 내 로직이 메인이다\ncmd에서는 이를 한 눈에 보기 좋게 한다\n여기서 이제 라이브러리가 들어간다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"- cmd\n- logic1\n\t- db_logic\n- db"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 하면 메인에서 구현에 필요한 것을 db에서 받아서 실행하도록 해야한다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"외부 라이브러리가 여러 개 중에 하나를 선택할 수도 있다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"- cmd\n- logic1\n\t- db_logic\n- db\n\t- redis\n\t- RDBMS"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 하려면 db를 다시 추상화해야한다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"- db\n\t- redis/\n\t- RDBMS/\n\t- db.go"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"근데 이렇게 하면 외부 라이브러리를 구현하는 작업이 다시 되야 되서 별로다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"클라이언트 프로그램은 마이크로서비스일 필요 없을 거 같다?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"어차피 외부 라이브러리가 이상이 생겨 못쓰게 되면\n새로운 라이브러리에 맞게 구현해야한다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그러면 외부 라이브러리 분리는 한 곳에서만 수정하도록 모으는 역할인가?\n그렇다면 외부라이브러리 안에 내부 구현을 호출하도록 해도 되겠다.\n내 코드에서 외부라이브러리를 호출하던 것을\n외부 라이브러리 구현 코드에서 내 코드를 호출하는 것으로\n왜냐하면 http를 쓰려다 보니 내 구현에서 http동작을 호출하는 것이 과한 추상화\n같았고, 구현하기도 매끄럽지 않았다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"메인로직을 서버에서 호출해서 쓰는지\n메인로직에서 서버로직을 호출해서 쓰는지 잘 결정해야한다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"http 서버가 grpc 클라이언트도 해야한다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"micro-crud","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#micro-crud","ariaLabel":"micro crud permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"micro crud"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"service - crud-service - extension"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"crud : api <- logic <- library"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"crud를 해주는 엔드포인트만 나와있고, 내부는 감춰진다\n엔드포인트가 정해져있으면, 나머지끼리 통신하는데 이용한다\nlogic이 api안에 포함되고, logic은 api를 몰라도되고, 외부 라이브러리를 통한\n구현도 로직을 모르게 한다. 일방통행"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"crud 모델을 일반화해서 범용적으로 쓸 수 있도록 하고, extension을 붙여 확장한다\nID, Name, Date, Content, Tag 로 구성하고, Content에 다시 내용을 구겨넣는다.\n필요한 곳에서 알아서 쓴다?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"마이크로서비스도-인터페이스를-만족하도록-구성하는-것이-좋겠다","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4%EB%8F%84-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4%EB%A5%BC-%EB%A7%8C%EC%A1%B1%ED%95%98%EB%8F%84%EB%A1%9D-%EA%B5%AC%EC%84%B1%ED%95%98%EB%8A%94-%EA%B2%83%EC%9D%B4-%EC%A2%8B%EA%B2%A0%EB%8B%A4","ariaLabel":"마이크로서비스도 인터페이스를 만족하도록 구성하는 것이 좋겠다 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"마이크로서비스도 인터페이스를 만족하도록 구성하는 것이 좋겠다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"우리 회사의 api는 다른 기능이라도 같은 방식으로 동작합니다 라고 알려주면\n사용자가 다른 서비스에도 쉽게 접근할 수 있겠다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"스테이징 서버 테스트 시 본 서버의 데이터를 그대로 가져오면 너무 사이즈가\n커지니까 필요에 따라 기간을 정해서 가져올 수 있도록 구현하면 좋을 것 같다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"business-logic","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#business-logic","ariaLabel":"business logic permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"business logic"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"비즈니스 로직의 함수는 추상적이면 좋겠지만 세부 구현도 비즈니스 로직에 들어가야\n한다. 외부 라이브러리에 비즈니스 로직이 안들어가기 때문에.\n함수 구현은 추상적으로 하고 test code로 세부를 테스트하면 될까?\n세부 구현은 어디서 해야하지?\n인터페이스에 추상이 남아있고, 구현은 세부적으로 하면 될까"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"input-logic-output의-구조-레고-모델","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#input-logic-output%EC%9D%98-%EA%B5%AC%EC%A1%B0-%EB%A0%88%EA%B3%A0-%EB%AA%A8%EB%8D%B8","ariaLabel":"input logic output의 구조 레고 모델 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"input, logic, output의 구조 (레고 모델)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"go-kit, gRPC도 이런 구조로 구성하려고 했다. 이 방법이 먹히는 것 같다.\nopenfaas도 request, response 구조"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"레고모듈이 완벽한건 아니지만 괜찮은 모델이다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"부족한 부분"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"유기적인 얽힘이 되면 좋겠다"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"api gateway에서 이걸 처리하고\n로직은 json만 대응하도록\n로직에서는 내가 필요한 데이터가 있는지 확인하는 발리데이션을 해서 로직 수행"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"json으로 입력받아 json으로 출력"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"http response로 출력"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"json으로 필터링 해서 결과값 보내주는 어댑터(플러그인) 만들어서 쓰면 좋겠네"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"grpc로 이걸 하면 proto 파일에 모델, 함수 적고, 구현파일을 만들면 이런 형태가\n만들어 질거 같다.\n여기에 grpc gateway를 써서 http로 받을 수 있게 하고, documentation 되는지 확인"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"api는 연결부위 설계를 잘 해야겠다. input값, output값"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"메인로직을 만들고 컨테이너화해서 배포하면, 사이드카가 api routing해주고,\n데이터 보관하도록 만들고 싶다. 메인로직의 input과 output만 잘 유도하면 될 것\n같은데, fastapi와 python 머신러닝 api화 해주는 서비스가 있던데 확인해봐야겠다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"유한-상태-기계-state-machine","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EC%9C%A0%ED%95%9C-%EC%83%81%ED%83%9C-%EA%B8%B0%EA%B3%84-state-machine","ariaLabel":"유한 상태 기계 state machine permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"유한 상태 기계 state machine"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"input -> output 으로 가는 구조인데\n수학적 안정성을 가진 구조"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"if - else 로 관리하기 힘든 상태관리를 안정적으로 할 수 있게 해준다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"오토마타 = 유한 상태 기계"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"input output 구조가 수학적으로 안정성을 가질 수 있다는 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"library","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#library","ariaLabel":"library permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"library"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"모든 코드를 라이브러리화 하면 각 라이브러리를 호출하는 어댑터를 만들게 되고 너무\n비대해진다.\n그렇다고 어댑팅 안하면 라이브러리 수정 시 여기 저기서 바꿔야 된다.\n그렇다고 라이브러리를 일관된 형태로 유지하자면 그것도 쉽지 않다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"lib1\n- file\n\nsource1\n- main\n- lib1-adapter\n\nsource2\n- main\n- source1-adapter\n- lib1-adapter"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이런 구조가, 라이브러리 변경 시"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"lib1\n- file-v2 // 변경\n\nsource1\n- main\n- lib1-adapter // 변경\n\nsource2\n- main\n- source1-adapter\n- lib1-adapter // 변경"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"수정이 전체에 영향을 미치면 안된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"라이브러리를-api-처럼-호출하기","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC%EB%A5%BC-api-%EC%B2%98%EB%9F%BC-%ED%98%B8%EC%B6%9C%ED%95%98%EA%B8%B0","ariaLabel":"라이브러리를 api 처럼 호출하기 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"라이브러리를 api 처럼 호출하기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"모놀리스에서 다른 모듈 간 데이터 불러올 때 임포트 해서 함수로 호출한다\n마이크로서비스에서 api로 호출하는게 일반적이겠지만\n임포트 라이브러리를 만들어서 직접 api에 접근하는게 아니라 라이브러리를 통해서 접근하게 하면 전환이 쉬울 것 같다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Product\nPurchase"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Purchase\nImport product\nProduct = product.getName\nPurchase.product = Product"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"근데 내부 서비스는 외부와 격리되있고\n조합해서 호출하는건 별개의 서비스에서 했으면 좋겠다\n그러면 호출은 어디서 하지?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"메인 함수에 어떤 api 사용하는지 나타내는 방식으로 해서\n서버에 올릴 때 메인 함수의 api 응답 시간을 확인만 하면 되도록 하면 좋겠다\n프로젝트 메인이 아니라 라이브러리 메인을 체크해야겠다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"| api | -- | business logic | -- | data crud\n| business logic2 |\n| 3 |\n| 4 |\n| 5 |"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 구성 돼있다면 data crud는 공통 로직으로 쓰는 역할(share library)\n비즈니스 로직에서는 api로 crud를 제어한다.\naggregation api를 따로 만든다\ndata crud는 index단위로 같은 로직으로 여러개를 만든다\ngrpc로 만들어서 쓴다\n컴퓨팅 로직은 서버리스로 배포해서 api로 쓴다\n인프라 코드가 각 비즈니스로직을 접근할 수 있도록 사이드카를 장착한다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"데이터베이스 crud 서비스로 레포지토리를 모을까?\n호출할 때는 어떻게 구분하지?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"데이터 불러오는 곳도 각 서비스마다 구현을 해야하는데, db 종류에 상관없이\n받아들이는 부분도 있어야하는데.. 그러면 데이터베이스 쪽만 2단계가 되서 마음에\n안든다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"msa.png","alt":"msa"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"아키텍처를-만들면서-구체적인-예제를-적으면서-해본다-행동","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EB%A5%BC-%EB%A7%8C%EB%93%A4%EB%A9%B4%EC%84%9C-%EA%B5%AC%EC%B2%B4%EC%A0%81%EC%9D%B8-%EC%98%88%EC%A0%9C%EB%A5%BC-%EC%A0%81%EC%9C%BC%EB%A9%B4%EC%84%9C-%ED%95%B4%EB%B3%B8%EB%8B%A4-%ED%96%89%EB%8F%99","ariaLabel":"아키텍처를 만들면서 구체적인 예제를 적으면서 해본다 행동 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"아키텍처를 만들면서 구체적인 예제를 적으면서 해본다 :행동:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"예제가 있어서 내용이 길어지는 부분은 트레이드오프..."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"한-아키텍처에-너무-많은-것을-넣으려고-하다가-이도저도-아니게-되겠다","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%ED%95%9C-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EC%97%90-%EB%84%88%EB%AC%B4-%EB%A7%8E%EC%9D%80-%EA%B2%83%EC%9D%84-%EB%84%A3%EC%9C%BC%EB%A0%A4%EA%B3%A0-%ED%95%98%EB%8B%A4%EA%B0%80-%EC%9D%B4%EB%8F%84%EC%A0%80%EB%8F%84-%EC%95%84%EB%8B%88%EA%B2%8C-%EB%90%98%EA%B2%A0%EB%8B%A4","ariaLabel":"한 아키텍처에 너무 많은 것을 넣으려고 하다가 이도저도 아니게 되겠다 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"한 아키텍처에 너무 많은 것을 넣으려고 하다가 이도저도 아니게 되겠다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"처음에 집중할 목표를 잡고 작게 작게 처리해 나가야 하겠다 :행동:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"개인이 제작하는 프로그램에는 규모의 한계가 있다\n프로토타입 수준의 프로그램이 제작될 따름인데 개인 프로젝트의 의미는 무엇일까?\n스스로 기술 발전을 할 수 있다. 기술 발전을 해서 무엇을 하나. 기술 협력을 통해\n기술 발전에 기여한다.\n회사가 아닌 다른 기술 발전 기여 통로를 만들어야겠다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"작은 양의 코드를 수정하는데도 정리가 안되어 무엇을 건드려야 할지 막막해지는\n순간이 있었다. 작은 크기로 함수들을 쪼개놓았는데 그 함수들이 여러개가 되다 보니\n길을 잃은 것 같다. 어떻게 길을 찾아야 할까"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"레고식-아키텍처","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%EB%A0%88%EA%B3%A0%EC%8B%9D-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98","ariaLabel":"레고식 아키텍처 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"레고식 아키텍처"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"go"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-go"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-go"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"type"}]},{"type":"text","value":" Lego "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"struct"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    Name "},{"type":"element","tagName":"span","properties":{"className":["token","builtin"]},"children":[{"type":"text","value":"string"}]},{"type":"text","value":"\n    ID "},{"type":"element","tagName":"span","properties":{"className":["token","builtin"]},"children":[{"type":"text","value":"string"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"type"}]},{"type":"text","value":" Request "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"struct"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    content "},{"type":"element","tagName":"span","properties":{"className":["token","builtin"]},"children":[{"type":"text","value":"string"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"func"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"Attach"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"r Request"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" Lego "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    result "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":="}]},{"type":"text","value":" Lego"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" result\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"입력, 로직, 출력 형태로 함수들(또는 api endpoint)을 제작하면 모듈로 쓰기 좋을 것 같다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"일관된 형태를 갖고 있어서 레고처럼 갖다 붙이기 좋을 것 같다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"입력과 출력을 모두 json형태로 받으면 유연하게 데이터를 받고 쓸 수 있을 것 같다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이런 형태로 이미 구현되어 있는 것이 gRPC인 것 같다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"언어에도 유연하고, 형태도 명확해서 gRPC 기반으로 개발을 하고, 변형하면 좋을 것 같다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"REST로 변경해주는 api도 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"gRPC를 이용하되, gRPC에 묶이지 않아야 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"go"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-go"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-go"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// feature.proto"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"package"}]},{"type":"text","value":" feature\n\nservice Feature "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\trpc "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"GetFeature"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"Request"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"returns"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":" Feature"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\trpc "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"RecordRoute"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"stream Request"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" returns "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"RouteSummary"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\nmessage Request "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","builtin"]},"children":[{"type":"text","value":"string"}]},{"type":"text","value":" content "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\nmessage Feature "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","builtin"]},"children":[{"type":"text","value":"int32"}]},{"type":"text","value":" id "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","builtin"]},"children":[{"type":"text","value":"string"}]},{"type":"text","value":" name "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// server.go"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"net\""}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"log\""}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"context\""}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"google.golang.org/grpc\""}]},{"type":"text","value":"\n    pb "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"github.com/example/feature\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"type"}]},{"type":"text","value":" server "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"struct"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    pb"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"UnimplementedFeatureServer\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"func"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"s "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"*"}]},{"type":"text","value":"server"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"GetFeature"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"ctx context"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"Context"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" request "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"*"}]},{"type":"text","value":"pb"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"Request"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"*"}]},{"type":"text","value":"pb"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"Feature"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","builtin"]},"children":[{"type":"text","value":"error"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"&"}]},{"type":"text","value":"pb"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"Featrure"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"id"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"sam\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"nil"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"func"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"main"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    lis"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" err "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":="}]},{"type":"text","value":" net"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"Listen"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"tcp\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\":9000\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    s "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":="}]},{"type":"text","value":" grpc"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"NewServer"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    pb"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"RegisterFeatureServer"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"s"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"&"}]},{"type":"text","value":"server"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"if"}]},{"type":"text","value":" err "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":="}]},{"type":"text","value":" s"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"Serve"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"lis"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" err "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"!="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"nil"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        log"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"Fatalf"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"faield to serve: %v\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" err"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"protoc --"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이것이 요청을 받아 출력을 해주는 gRPC의 뼈대다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이것을 매 프로젝트마다 만드는 것은 다소 귀찮은 부분이 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"조금 간소화해서 Feature와 메인 로직만 구현하면 되도록 할 필요가 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"go의 마이크로서비스 섀시인 micro와 go-kit에서 이를 구현해놨다. ㅋ"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"awesome grpc에 정보가 모여 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이걸 모델과 로직을 입력해서 결과는 /feature 호출하면 feature를 리턴해주는 api 역할을 해야한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"필터 역할 하는 api라면"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"{name:\"sam\", age:\"10\"}, {name:\"kim\", age:\"15\"} 이라는 값을 입력으로 넣으면"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"정렬해서 정렬된 값을 리턴해주는 api가 만들어져야 한다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"프로젝트-시작-시-꼭-필요한-것","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%8B%9C%EC%9E%91-%EC%8B%9C-%EA%BC%AD-%ED%95%84%EC%9A%94%ED%95%9C-%EA%B2%83","ariaLabel":"프로젝트 시작 시 꼭 필요한 것 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"프로젝트 시작 시 꼭 필요한 것"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"모델 정의"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"모델 정의한 것을 서버리스로 배포.\n그러면 각 모델의 연결은 어떻게?\n람다로 한다면 제품 등록은 하나의 모델에 업데이트 하면 되는데, 불러올 때는 정보들이 묶여있는 상태로 불러야 호출 횟수를 줄일 수 있다.\n근데 또 등록할 때 유저의 상태도 업데이트 하려면 등록도 두 개의 호출을 해야하긴 한다"}]}],"data":{"quirksMode":false}},"rawMarkdownBody":"\n## 확장성\n\n50 유저를 상대로 운영하고 있지만 10만 유저를 상대할때도 문제가 생기지 않게\n염두에 두고 수정한다. 하지만 임시방편으로 해결할 때도 있다.\n그런 임시방편을 잘 리스트화해서 처리를 잘 해야겠다\n\n단일고장점이 없는 아키텍처라면\n새로운 기술을 도입하는 것이 쉽게 될 수 있겠다\n\nhdd로 구축된 서버에서 한대만 ssd로 교체해서 상황을 지켜보고, 문제가 있어도 다른\n서버에서 커버할 수 있다면 문제점 파악하는데에 도움이 되겠다\n\n소프트웨어 자체의 에러가 전체에 영향을 미치지 못하도록 하면 다른 것으로 교체하면\n그만이라서 관리하기 쉽겠다\n\n3대의 서버를 켜놓고 1대씩 리부팅을 해도 나머지 2대가 있어서 괜찮다면 오래 켜놔서\n생기는 문제를 막을 수 있듯이\n일부러 1대씩 계속 재부팅되도록 하고, 상태저장이 필요 없도록 하면 os의 문제에서\n조금은 자유로워지지 않을까\n재부팅하면 캐시가 다시 쌓여야하는 부분은 확인해봐야겠다\n\n3대의 서버를 한 묶음으로 추가 자원이 필요하면 이 묶음이 여러개가 되도록 하면\n확장성 문제도 해결되지 않을까?\n쿠버네티스에서는 이를 지원해준다\n\n쿠버네티스는 고가용성, 확장성, 배포를 바로 할 수 있게 해줘서 좋다\n서버는 필연적으로 고가용성과 확장성과 배포가 필요하다\n추가로 모니터링, 로깅도 세트다\n\n#### portable, universal\n\n새로운 기술이나 지식을 얻었을 때 우리의 업무에 바로 적용할 수 있는 자유로움\n\n회사의 상황에 맞추기보다 표준에 맞추는 방향\n\n데이터베이스를 커스터마이징하기보다 어댑터를 이용해 원본은 잘 지켜나가서 새로운\n것이 생겼을 때 바로 도입할 수 있는 환경\n\n#### 관리 편한 인프라\n- 기본 매커니즘이 단순하고 간결하고 명확한\n- 요즘 플러그인 방식\n- 간단한 형태를 유지하면서 변화에 유연한 서비스\n\n#### 변하는 것과 변하지 않는 것 :vs:collection:\n\n변하지 않는 것은 없지만 빠르게 변하는 것과 천천히 변하는 것은 나눠져 있다\n아키텍처를 구성할 때 천천히 변하는 것을 잘 분리하여 빨리 변하는 것에 더 집중하고\n천천히 변하는 것은 잘 유지할 수 있도록 하면 좋겠다\n\n아이폰의 뒷면\n\n#### 소프트웨어는 언제까지 확장되는게 좋을까\n\n무한정 소프트웨어가 비대해지면 관리도 힘들고, 또 그렇게 커질 필요도 없다\n네이버에서는 검색 기능은 다른 기능과 분리되어 있고, 팀도 따로 분리되어 있다.\n회사 팀 구조도 개발팀을 다른 팀과 분리하는 경우도 있고,\n기능별로 개발,디자인,기획을 같은 팀에 구성하는 경우도 있을텐데,\n어떤 경우에 어떤 구성이 좋을까\n\n#### 확장 -> 모듈\n\n각 서비스가 많은 트래픽을 감당할 수 있어야 하고,\n분산 처리 시스템처럼, 묶였을 때 트래픽 처리가 선형적으로 증가 되야 한다\n\n쉽게 교체할 수 있는 모듈의 형태로 구성되야 한다. 하지만 쉽게 교체할 수 있다는\n것이 진리는 아니다.\n\n기능별로 팀이 구성되 있을 때 그 팀에 오래 있던 사람이 나가고 새로운 사람이\n들어오면 새로운 사람이 대체하려면 아주 힘들다. 애초에 대체는 안되고 다른 역할이\n되겠지만.\n메뉴얼이 쌓여있어도 기존 작업을 100% 알 수 없다.\n기능별로 집중했기 때문에 깊고 많은 내용이 섞여있고, 그래서 기능적으로\n성숙해졌지만 새로운 사람에게는 따라가야 할 길이 멀어진다.\n이게 경험의 차이라고 불리워지는 것인 것 같다.\n기능별 팀에서의 문제가 아니라 인간세상의 문제였다.\n\n기능의 깊이가 어느정도 깊어지면 다시 분리해야 한다.\n근데 사람의 수는 한정적이어서 분리가 안된다\n\n#### server architecture to using some company service\n\n특정 서비스에 종속되는 것을 조심하고 다양한 기술을 써봐야겠다\n처음에는 특정기술에 의존하는 것이 영속성이 없어서 서버아키텍처에 포함하면 안되지\n않을까 싶었지만 기술적으로 파악하고 사용하고 종속되지 않도록 해야겠다\n앞으로도 새로운 기술을 계속 써야하기에 지금 있는 기술을 두루두루 다뤄봐야겠다\n그러나 내 서버 아키텍처는 단순하고 가벼웠으면 좋겠는데 여러 기술을 사용하면\n복잡해질 수 밖에 없는데 이를 계속 생각하고 있다\n- 가볍고 버전 의존성 적은 라이브러리를 선택하려고 해야겠다\n\n#### 아키텍처 고민 사항\n이런 관점에서 쿠버네티스, react, graphql, backend를 어떻게 구성해야하나?\n정책과 세부사항이 너무 많으면 기준점을 잘 지켜나갈 수 있을까?\n\n비즈니스 로직에서 추상화를 어디까지 하는게 좋을까\n과한 추상화는 실체가 없다는 느낌을 줄 수 있겠다.\n어디까지 추상화를 할지는 어떤 목적으로 프로그램을 만드느냐에 따라 조정된다\n모든 것이 추상화되고 가변적일 필요는 없다\nMysql tip 글에서 DB 모델링 시 지나친 추상화를 하지 말라는 조언이 있었다.\n- 언어를 넘어서는 추상화\n- 포팅을 쉽게 할 정도의 추상화\n\n\n## 모듈\n\n#### module\n\n부피가 아주 커지면 모듈화로 분리하는게 좋다\n\n작은 모듈은 무수히 많이 만들게 허용한다\n그 모듈들은 하나의 추상적인 객체가 된다\n\n- 스테이지 서버를 없애는 것\n\n#### 이 세상 모든 것은 연결되어있다\n\n소프트웨어에서도 **종속성**이 없을 수 없다\n**의존성**이 항상 필요하다\n\n효율적인 구성으로 족쇄가 되지ㄹ 않아야 한다\n\n그리고 모든 연결은 상호간 약속이 되있어야 소통이 원활해진다\nHTTP 프로토콜, ITU 주파수 대역 등의 규약은 제약이 아니라 통신을 원활하게 하기\n위한 약속이고, 이를 통해 효과적으로 통신할 수 있게 된다\n\n그룹을 대표하는 대표를 뽑아서 소통하는 것이 인류의 해답 - 간접 민주주의\n그룹의 대표가 그룹을 정말로 잘 이해해야 한다. 그것이 현실의 문제점\n\n#### why module is worth\n\n모듈을 안쓰면\n\n- 작은 수정에 많은 업데이트 시간이 걸린다\n- 동시에 여러 작업을 하기 어렵다\n\n#### 작은 것으로 쪼개어도 해결되지 않는 문제\n\n세계를 개인의 합이라고 생각할 수 있는데\n개인을 안다고 세계를 다 알 수는 없다\n개인이 모여 그룹이 되고 그룹이 모여 더 큰 그룹이 되면\n개인의 행동양식과는 다른 결과가 나올 수 있다\n\n경제학에서 개인의 경제행위를 연구하는 것만으로는 시장을 다 알 수 없어 거시경제라는 개념이 나왔다\n기업은 개인의 판단과 다른 판단을 할 수 있다\n\n작은 단위를 합쳐 크게 만들면 또 다른 변화가 만들어진다\n\n카오스 이론, 복잡계\n\n#### 모듈\n\n집에 살 때 한 부분이 고장났다고 집 전체를 바꿀 수 없는 것처럼 각 부분이 잘 분리되야한다\n집에 있는 가구들이나, 집 자체에 결함이 생기면 전체를 고치기보다 부품만 교체하기를 원한다.\n라즈베리파이가 100대 있으면, 각 역할별로 나눠져 있어도, 고쳐야하는 요소가 많아져서 번거롭다.\n\n#### 프로젝트를 모듈로 구성\n\n모듈은 한 팀의 인원정도만 사용\n기존 데이터 이용 필요시 CQRS를 응용해서 데이터쿼리용 저장소를 이용\n\n도메인의 스펙을 분석해서 적용하는 작업이 계속 될 수 있어야 한다\n\n각 프로젝트마다 모듈로 구성\n모듈의 개수는 팀원의 수 정도\n기존의 데이터가 필요하면 어떻게 가져오나\nCQRS를 응용해서 공통 데이터 저장소를 따로 둔다\n\n람다로 함수들을 만들어서 gcp와 aws에 이중화하고\n로컬 서버에서 로드밸런서로 비용안들게 호출하도록 할 수 있을까\n호출횟수를 모니터링해서 로드밸런서가 확인하도록\n\n각 세부 폴더에\n도메인로직, 데이터, 유닛, api, 외부 함수, 통신 로직를 넣으면\nmvc 패턴에서 구현하는 것을 모두 구현할 수 있나?\n\n#### 레고형 아키텍처 :module:\n\n레거시를 계속 쓰려고\n모듈화의 좋은 방법이라 생각\n응답과 결과의 형태를 통일해서 쉽게 교체가 가능할 것 같다\n처음에 완벽한 형태를 짜는 것이 불가능하기 때문에 변화하기 쉬운 형태로 짜놓는다.\n공통된 방식을 쓰면 변경이 쉽지 않을까.\n\n#### 데이터 확장 모듈\n\n아이디를 같이 쓰고 추가 데이터를 붙여서 호출할 수 있도록 하면 마이크로서비스에서\n데이터형식을 좀 더 자유롭게 쓸 수 있지 않을까\n\n블록들을 모아서 전체를 구성하는 것이 좋다\n재사용성이 늘고, 확인할 지점이 적절한 양이다. 작은 문제부터 접근하기 좋다.\n근데 블록들이 다 제각각이면 챙겨야하는 지점이 늘어난다.\n가져온 블록의 내부가 복잡하면 조치하기 힘들다. 간단한 것들로 많이 붙이면 겉잡을\n수 없이 커져서 오히려 하나 하나 확인할 수 없다\n\n점진적으로 변화할 수 있는 데이터 저장소가 있으면, 일단 저장해놓고 점점 살을 붙여\n나중에 잘 써먹을 수 있다\n\n지역성의 원리로 캐싱을 하면 이전 작업과 거리가 있는 작업을 하게 되면 캐싱을 새로\n해야한다. 이 점을 보완하고 싶다\n\n#### 기능을 잘게 쪼개면 전체를 조망하기 쉬워지지 않을까 :module:\n\n기능이 커지면 분리하는 방식은\n새로 접근하는 사람이 기능을 파악하는데는 도움이 될 수 있지만 하나를 파악해도\n파악하지 못한 나머지 기능들이 많아서 너무 많아 질리거나 본질에 접근 못한다는\n느낌을 받을 수 있겠다.\n'그건 내 잔상이다' 의 반복 같은 느낌\n\n#### 포터블은 꼭 필요한 가치인가?\n\n- 모듈화를 하면 포터블한 코드\n- 유연성이 확보돼있다\n\n---\n\n## 분산\n\n1인가구, 마이크로 서비스 아키텍처, 블록체인의 탈중앙화가 닮은 것 같다\n\n- 탈중앙화\n- 분산화\n- 민주주의\n- 분산 서비스\n- 고가용성\n- 마이크로서비스\n- 조직 구조도?\n\n확장은 필연적으로 복잡성을 만든다\n\n[[Technology#분산 대 탈중앙화]]\n\n#### 이동통신 시스템이 분산 처리 시스템에서 잘 돌아가고 있는 사례인 것 같다\n\n데이터베이스의 레플리카 기능과 샤딩\n일라스틱서치\n하둡\n\n#### Multi Processing\n\n분산 시스템의 고민과 비슷한 고민이 멀티 프로세스를 사용하려는 시도에도 있겠다.\n\nMPI라는 인터페이스가 있다.\n\n- https://operatingsystems.tistory.com/entry/High-Performance-Computing-MPI\n- http://hpcschool.kr/usc/wp-content/uploads/sites/10/2014/04/MPI.pdf\n\nApache의 MPM\n\n#### 분산 개발 환경의 해결책으로 ci가 나왔다\n\n분산 서비스간의 통합도 ci 같이 할 수 있을까\n\n일단 데이터를 통합하는 서비스를 이용한다던가\n\n#### 계층적인 것과 분산된 것\n\n중첩\n폴더 안에 폴더를 두는 구조는 유용하지만 복잡해져서 별로 안좋은 것 같다\n그래서 프로젝트 사이즈도 폴더 중첩이 없는 정도로 나누고 싶은데\n그러다보면 작은 덩어리가 많아져서 어디에 무엇이 있는지 모를 수 있겠다\n그래서 정돈이 필요한데, 이 정돈을 어떻게 할 수 있을까\n\n트리 구조의 깊이가 깊어지는 것과 넓이가 넓어지는 것은 비슷한 복잡도인가?\n\n넓이가 넓어져서 관리가 힘들 상황을 생각해보면, 놀이터가 넓으면 선생님이 주변에\n있는 아이가 아니면 어떤 일이 벌어지는지 알 수 없다\n\n복잡성을 염두에 두고 미리 뼈대를 만들어 놓는 것보다, 작게 분리하는 것이 복잡성을\n컨트롤 할 더 나은 방법 같다.\n자바의 폴더구조가 처음부터 중첩된 폴더를 미리 만들어 놓는 방식인데, 이런 부분이\n거슬린다. 폴더 안에 폴더가 들어가면서 깊어지면 컨트롤이 어려워질 것 같다.\n\n- 근데 go standard layout 에서 cmd 폴더 안에 메인 함수들을 폴더로 구성하게 하는\n  것을 추천해서 자바와 비슷한 구조를 베스트 프렉티스로 했다. 복잡한 서비스에서는\n  중첩이 최선인가. 3단 중첩은 필요한가\n\n[[About_Development#module]]\n\n#### 마이크로서비스의 해법을 다른 분산 시스템에서 얻고자 한다\n\n전체를 퉁쳐서 하나로 규정하려는게 아니라 기존의 문제점들을 확인하고 어떤 해법들이 있었는지 정보를 얻기 위해서\n\n#### 라즈베리파이\n\n라즈베리파이를 여러 대 두면 라즈베리파이가 하나씩 고장날 때마다 고쳐야 한다는 의미도 된다. 데스크탑 하나만 쓰면 전체가 한번에 관리된다. 물론 라즈베리파이 쪽이 싸게 처리되지만, 100대가 있을 때 매번 고치기는 힘들 것 같다. 대신 라즈베리파이 하나가 고장나도 시스템은 그대로 유지될 수 있다는 장점이 있다.\n\n## 설계\n\n#### 아키텍처 노하우\n\n- 변하는 것과 변하지 않을 것을 구분하기 위한 나열\n- 시나리오 전개\n- 완성본을 상상\n- 적재적소\n\n#### 알림 시스템 설계\n\n가상 면접 사례로 배우는 대규모 시스템 설계 기초\n- 인사이트\n\n10장 알림 시스템 설계\n\nkums의 설계와 매우 유사하게 구성되어있다\n신기하다\n\n#### 개발 시작부터 확장의 반복\n\n1. 가장 간단한 실행을 위한 설계\n2. 폴더 만들기\n   - note\n3. 구현해야 하는 것 적고 결과값 적기\n   - note/main_test.go\n4. 테스트 통과시키기\n   - note\n     - main.go\n     - main_test.go\n5. 기능 추가를 위해 설계\n6. 파일 추가\n7. 반복\n\n그러다가 어느 시점이 되면 아래 정도의 복잡성이 생긴다\n\nnote\n- logic1\n\t- main.go\n\t- data.go\n\t- adapter.go\n- logic2\n- api\n\t- http.go\n\t- grpc.go\n- lib\n\n이런 구조에서 더 복잡성이 필요해지면 분리하기 좋다는 신호다.\n그래서 저 코드 구조가 반복되면 확장이 된다.\n인프라는 저 구조를 쉽게 컨트롤하도록 구성된다.\n\n인프라 - 서비스 - 데이터의 구조로 한 인프라가 구성되고\n이것이 다시 프렉탈로 반복된다\n\n#### A/S, after service\n\na/s can announce to me that what I missed, and what can I grow.\na/s is just doing the same work. not to be known.\nsometimes when before the same work. it is good to evolve knowledge. but cannot control what I want.\nit makes me spent time a lot. and annoying.\na/s is need\n\n#### Design First is Good\n\nBut, Don't be loose. Quick Response. small thing first\n\n#### 3개의 의견\n\n서로를 견제하며, 지원하고, 공유하는 구조가 좋은 가치를 만들기에\n좋은 구조인 것 같다\n쿠버네티스를 이렇게 사용할 수 있을까\n\n#### 외부 라이브러리 분리\n\n외부 라이브러리를 분리하려고 하는데, 그러면 폴더 구조가 어떻게 되는거지\n\n```\n- cmd\n- lib1\n- ilb2\n- logic1\n- logic2\n```\n\n이런 식으로 되는 건가\n\n```\n- cmd\n- logic1\n\t- lib1\n\t- lib2\n- logic2\n\t- lib1\n\t- lib2\n```\n\n이것보다는 나은 것 같은데 위의 구조에서 라이브러리와 메인 로직의 구분이 안된다\n\n```\n- cmd\n- logic1\n```\n\n일단 내 로직이 메인이다\ncmd에서는 이를 한 눈에 보기 좋게 한다\n여기서 이제 라이브러리가 들어간다\n\n```\n- cmd\n- logic1\n\t- db_logic\n- db\n```\n\n이렇게 하면 메인에서 구현에 필요한 것을 db에서 받아서 실행하도록 해야한다\n\n외부 라이브러리가 여러 개 중에 하나를 선택할 수도 있다\n\n```\n- cmd\n- logic1\n\t- db_logic\n- db\n\t- redis\n\t- RDBMS\n```\n\n이렇게 하려면 db를 다시 추상화해야한다\n\n...\n\n```\n- db\n\t- redis/\n\t- RDBMS/\n\t- db.go\n```\n\n근데 이렇게 하면 외부 라이브러리를 구현하는 작업이 다시 되야 되서 별로다\n\n클라이언트 프로그램은 마이크로서비스일 필요 없을 거 같다?\n\n어차피 외부 라이브러리가 이상이 생겨 못쓰게 되면\n새로운 라이브러리에 맞게 구현해야한다\n\n그러면 외부 라이브러리 분리는 한 곳에서만 수정하도록 모으는 역할인가?\n그렇다면 외부라이브러리 안에 내부 구현을 호출하도록 해도 되겠다.\n내 코드에서 외부라이브러리를 호출하던 것을\n외부 라이브러리 구현 코드에서 내 코드를 호출하는 것으로\n왜냐하면 http를 쓰려다 보니 내 구현에서 http동작을 호출하는 것이 과한 추상화\n같았고, 구현하기도 매끄럽지 않았다\n\n메인로직을 서버에서 호출해서 쓰는지\n메인로직에서 서버로직을 호출해서 쓰는지 잘 결정해야한다\n\nhttp 서버가 grpc 클라이언트도 해야한다\n\n#### micro crud\n\nservice - crud-service - extension\n\ncrud : api <- logic <- library\n\ncrud를 해주는 엔드포인트만 나와있고, 내부는 감춰진다\n엔드포인트가 정해져있으면, 나머지끼리 통신하는데 이용한다\nlogic이 api안에 포함되고, logic은 api를 몰라도되고, 외부 라이브러리를 통한\n구현도 로직을 모르게 한다. 일방통행\n\ncrud 모델을 일반화해서 범용적으로 쓸 수 있도록 하고, extension을 붙여 확장한다\nID, Name, Date, Content, Tag 로 구성하고, Content에 다시 내용을 구겨넣는다.\n필요한 곳에서 알아서 쓴다?\n\n#### 마이크로서비스도 인터페이스를 만족하도록 구성하는 것이 좋겠다\n\n우리 회사의 api는 다른 기능이라도 같은 방식으로 동작합니다 라고 알려주면\n사용자가 다른 서비스에도 쉽게 접근할 수 있겠다\n\n스테이징 서버 테스트 시 본 서버의 데이터를 그대로 가져오면 너무 사이즈가\n커지니까 필요에 따라 기간을 정해서 가져올 수 있도록 구현하면 좋을 것 같다\n\n#### business logic\n\n비즈니스 로직의 함수는 추상적이면 좋겠지만 세부 구현도 비즈니스 로직에 들어가야\n한다. 외부 라이브러리에 비즈니스 로직이 안들어가기 때문에.\n함수 구현은 추상적으로 하고 test code로 세부를 테스트하면 될까?\n세부 구현은 어디서 해야하지?\n인터페이스에 추상이 남아있고, 구현은 세부적으로 하면 될까\n\n#### input, logic, output의 구조 (레고 모델)\n\ngo-kit, gRPC도 이런 구조로 구성하려고 했다. 이 방법이 먹히는 것 같다.\nopenfaas도 request, response 구조\n\n레고모듈이 완벽한건 아니지만 괜찮은 모델이다\n\n부족한 부분\n\n- 유기적인 얽힘이 되면 좋겠다\n\napi gateway에서 이걸 처리하고\n로직은 json만 대응하도록\n로직에서는 내가 필요한 데이터가 있는지 확인하는 발리데이션을 해서 로직 수행\n\n- json으로 입력받아 json으로 출력\n- http response로 출력\n\njson으로 필터링 해서 결과값 보내주는 어댑터(플러그인) 만들어서 쓰면 좋겠네\n\ngrpc로 이걸 하면 proto 파일에 모델, 함수 적고, 구현파일을 만들면 이런 형태가\n만들어 질거 같다.\n여기에 grpc gateway를 써서 http로 받을 수 있게 하고, documentation 되는지 확인\n\napi는 연결부위 설계를 잘 해야겠다. input값, output값\n\n- 메인로직을 만들고 컨테이너화해서 배포하면, 사이드카가 api routing해주고,\n  데이터 보관하도록 만들고 싶다. 메인로직의 input과 output만 잘 유도하면 될 것\n  같은데, fastapi와 python 머신러닝 api화 해주는 서비스가 있던데 확인해봐야겠다.\n\n#### 유한 상태 기계 state machine\n\ninput -> output 으로 가는 구조인데\n수학적 안정성을 가진 구조\n\nif - else 로 관리하기 힘든 상태관리를 안정적으로 할 수 있게 해준다\n\n오토마타 = 유한 상태 기계\n\ninput output 구조가 수학적으로 안정성을 가질 수 있다는 것이다.\n\n#### library\n\n모든 코드를 라이브러리화 하면 각 라이브러리를 호출하는 어댑터를 만들게 되고 너무\n비대해진다.\n그렇다고 어댑팅 안하면 라이브러리 수정 시 여기 저기서 바꿔야 된다.\n그렇다고 라이브러리를 일관된 형태로 유지하자면 그것도 쉽지 않다\n\n```\nlib1\n- file\n\nsource1\n- main\n- lib1-adapter\n\nsource2\n- main\n- source1-adapter\n- lib1-adapter\n```\n\n이런 구조가, 라이브러리 변경 시\n\n```\nlib1\n- file-v2 // 변경\n\nsource1\n- main\n- lib1-adapter // 변경\n\nsource2\n- main\n- source1-adapter\n- lib1-adapter // 변경\n```\n\n수정이 전체에 영향을 미치면 안된다.\n\n#### 라이브러리를 api 처럼 호출하기\n\n모놀리스에서 다른 모듈 간 데이터 불러올 때 임포트 해서 함수로 호출한다\n마이크로서비스에서 api로 호출하는게 일반적이겠지만\n임포트 라이브러리를 만들어서 직접 api에 접근하는게 아니라 라이브러리를 통해서 접근하게 하면 전환이 쉬울 것 같다\n\nProduct\nPurchase\n\nPurchase\nImport product\nProduct = product.getName\nPurchase.product = Product\n\n근데 내부 서비스는 외부와 격리되있고\n조합해서 호출하는건 별개의 서비스에서 했으면 좋겠다\n그러면 호출은 어디서 하지?\n\n메인 함수에 어떤 api 사용하는지 나타내는 방식으로 해서\n서버에 올릴 때 메인 함수의 api 응답 시간을 확인만 하면 되도록 하면 좋겠다\n프로젝트 메인이 아니라 라이브러리 메인을 체크해야겠다\n\n| api | -- | business logic | -- | data crud\n| business logic2 |\n| 3 |\n| 4 |\n| 5 |\n\n이렇게 구성 돼있다면 data crud는 공통 로직으로 쓰는 역할(share library)\n비즈니스 로직에서는 api로 crud를 제어한다.\naggregation api를 따로 만든다\ndata crud는 index단위로 같은 로직으로 여러개를 만든다\ngrpc로 만들어서 쓴다\n컴퓨팅 로직은 서버리스로 배포해서 api로 쓴다\n인프라 코드가 각 비즈니스로직을 접근할 수 있도록 사이드카를 장착한다\n\n데이터베이스 crud 서비스로 레포지토리를 모을까?\n호출할 때는 어떻게 구분하지?\n\n데이터 불러오는 곳도 각 서비스마다 구현을 해야하는데, db 종류에 상관없이\n받아들이는 부분도 있어야하는데.. 그러면 데이터베이스 쪽만 2단계가 되서 마음에\n안든다\n\n![msa](msa.png)\n\n#### 아키텍처를 만들면서 구체적인 예제를 적으면서 해본다 :행동:\n\n예제가 있어서 내용이 길어지는 부분은 트레이드오프...\n\n#### 한 아키텍처에 너무 많은 것을 넣으려고 하다가 이도저도 아니게 되겠다\n\n처음에 집중할 목표를 잡고 작게 작게 처리해 나가야 하겠다 :행동:\n\n개인이 제작하는 프로그램에는 규모의 한계가 있다\n프로토타입 수준의 프로그램이 제작될 따름인데 개인 프로젝트의 의미는 무엇일까?\n스스로 기술 발전을 할 수 있다. 기술 발전을 해서 무엇을 하나. 기술 협력을 통해\n기술 발전에 기여한다.\n회사가 아닌 다른 기술 발전 기여 통로를 만들어야겠다\n\n작은 양의 코드를 수정하는데도 정리가 안되어 무엇을 건드려야 할지 막막해지는\n순간이 있었다. 작은 크기로 함수들을 쪼개놓았는데 그 함수들이 여러개가 되다 보니\n길을 잃은 것 같다. 어떻게 길을 찾아야 할까\n\n#### 레고식 아키텍처\n\n```go\ntype Lego struct {\n    Name string\n    ID string\n}\n\ntype Request struct {\n    content string\n}\n\nfunc Attach(r Request) Lego {\n    result := Lego{}\n    return result\n}\n```\n\n입력, 로직, 출력 형태로 함수들(또는 api endpoint)을 제작하면 모듈로 쓰기 좋을 것 같다\n\n일관된 형태를 갖고 있어서 레고처럼 갖다 붙이기 좋을 것 같다\n\n입력과 출력을 모두 json형태로 받으면 유연하게 데이터를 받고 쓸 수 있을 것 같다\n\n이런 형태로 이미 구현되어 있는 것이 gRPC인 것 같다.\n\n언어에도 유연하고, 형태도 명확해서 gRPC 기반으로 개발을 하고, 변형하면 좋을 것 같다\n\nREST로 변경해주는 api도 있다.\n\ngRPC를 이용하되, gRPC에 묶이지 않아야 한다.\n\n```go\n// feature.proto\npackage feature\n\nservice Feature {\n\trpc GetFeature(Request) returns( Feature) {}\n\trpc RecordRoute(stream Request) returns (RouteSummary) {}\n}\n\nmessage Request {\n    string content = 1;\n}\n\nmessage Feature {\n    int32 id = 1;\n    string name = 2;\n}\n\n// server.go\nimport (\n    \"net\"\n    \"log\"\n    \"context\"\n\n    \"google.golang.org/grpc\"\n    pb \"github.com/example/feature\"\n)\n\ntype server struct {\n    pb.UnimplementedFeatureServer\n}\n\nfunc (s *server) GetFeature(ctx context.Context, request *pb.Request) (*pb.Feature, error) {\n    return &pb.Featrure{id: 1, name: \"sam\"}, nil\n}\n\nfunc main() {\n    lis, err := net.Listen(\"tcp\", \":9000\")\n    s := grpc.NewServer()\n    pb.RegisterFeatureServer(s, &server{})\n    if err := s.Serve(lis); err != nil {\n        log.Fatalf(\"faield to serve: %v\", err)\n    }\n}\n\n```\n\n```\nprotoc --\n```\n\n이것이 요청을 받아 출력을 해주는 gRPC의 뼈대다.\n\n이것을 매 프로젝트마다 만드는 것은 다소 귀찮은 부분이 있다.\n\n조금 간소화해서 Feature와 메인 로직만 구현하면 되도록 할 필요가 있다.\n\ngo의 마이크로서비스 섀시인 micro와 go-kit에서 이를 구현해놨다. ㅋ\n\nawesome grpc에 정보가 모여 있다.\n\n이걸 모델과 로직을 입력해서 결과는 /feature 호출하면 feature를 리턴해주는 api 역할을 해야한다.\n\n필터 역할 하는 api라면\n\n{name:\"sam\", age:\"10\"}, {name:\"kim\", age:\"15\"} 이라는 값을 입력으로 넣으면\n\n정렬해서 정렬된 값을 리턴해주는 api가 만들어져야 한다\n\n\n#### 프로젝트 시작 시 꼭 필요한 것\n\n모델 정의\n\n모델 정의한 것을 서버리스로 배포.\n그러면 각 모델의 연결은 어떻게?\n람다로 한다면 제품 등록은 하나의 모델에 업데이트 하면 되는데, 불러올 때는 정보들이 묶여있는 상태로 불러야 호출 횟수를 줄일 수 있다.\n근데 또 등록할 때 유저의 상태도 업데이트 하려면 등록도 두 개의 호출을 해야하긴 한다","frontmatter":{"title":"아키텍처 단상","summary":"확장성, 모듈, 분산","date":"2021, 05 20","updated":"2025, 08 07","tags":"meta","parent":null},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%ED%99%95%EC%9E%A5%EC%84%B1\">확장성</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#portable-universal\">portable, universal</a></li>\n<li><a href=\"#%EA%B4%80%EB%A6%AC-%ED%8E%B8%ED%95%9C-%EC%9D%B8%ED%94%84%EB%9D%BC\">관리 편한 인프라</a></li>\n<li><a href=\"#%EB%B3%80%ED%95%98%EB%8A%94-%EA%B2%83%EA%B3%BC-%EB%B3%80%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EA%B2%83-vscollection\">변하는 것과 변하지 않는 것 :vs:collection:</a></li>\n<li><a href=\"#%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%EB%8A%94-%EC%96%B8%EC%A0%9C%EA%B9%8C%EC%A7%80-%ED%99%95%EC%9E%A5%EB%90%98%EB%8A%94%EA%B2%8C-%EC%A2%8B%EC%9D%84%EA%B9%8C\">소프트웨어는 언제까지 확장되는게 좋을까</a></li>\n<li><a href=\"#%ED%99%95%EC%9E%A5---%EB%AA%A8%EB%93%88\">확장 -> 모듈</a></li>\n<li><a href=\"#server-architecture-to-using-some-company-service\">server architecture to using some company service</a></li>\n<li><a href=\"#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EA%B3%A0%EB%AF%BC-%EC%82%AC%ED%95%AD\">아키텍처 고민 사항</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%AA%A8%EB%93%88\">모듈</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#module\">module</a></li>\n<li><a href=\"#%EC%9D%B4-%EC%84%B8%EC%83%81-%EB%AA%A8%EB%93%A0-%EA%B2%83%EC%9D%80-%EC%97%B0%EA%B2%B0%EB%90%98%EC%96%B4%EC%9E%88%EB%8B%A4\">이 세상 모든 것은 연결되어있다</a></li>\n<li><a href=\"#why-module-is-worth\">why module is worth</a></li>\n<li><a href=\"#%EC%9E%91%EC%9D%80-%EA%B2%83%EC%9C%BC%EB%A1%9C-%EC%AA%BC%EA%B0%9C%EC%96%B4%EB%8F%84-%ED%95%B4%EA%B2%B0%EB%90%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EB%AC%B8%EC%A0%9C\">작은 것으로 쪼개어도 해결되지 않는 문제</a></li>\n<li><a href=\"#%EB%AA%A8%EB%93%88-1\">모듈</a></li>\n<li><a href=\"#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%EB%AA%A8%EB%93%88%EB%A1%9C-%EA%B5%AC%EC%84%B1\">프로젝트를 모듈로 구성</a></li>\n<li><a href=\"#%EB%A0%88%EA%B3%A0%ED%98%95-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-module\">레고형 아키텍처 :module:</a></li>\n<li><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%99%95%EC%9E%A5-%EB%AA%A8%EB%93%88\">데이터 확장 모듈</a></li>\n<li><a href=\"#%EA%B8%B0%EB%8A%A5%EC%9D%84-%EC%9E%98%EA%B2%8C-%EC%AA%BC%EA%B0%9C%EB%A9%B4-%EC%A0%84%EC%B2%B4%EB%A5%BC-%EC%A1%B0%EB%A7%9D%ED%95%98%EA%B8%B0-%EC%89%AC%EC%9B%8C%EC%A7%80%EC%A7%80-%EC%95%8A%EC%9D%84%EA%B9%8C-module\">기능을 잘게 쪼개면 전체를 조망하기 쉬워지지 않을까 :module:</a></li>\n<li><a href=\"#%ED%8F%AC%ED%84%B0%EB%B8%94%EC%9D%80-%EA%BC%AD-%ED%95%84%EC%9A%94%ED%95%9C-%EA%B0%80%EC%B9%98%EC%9D%B8%EA%B0%80\">포터블은 꼭 필요한 가치인가?</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%B6%84%EC%82%B0\">분산</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%EC%9D%B4%EB%8F%99%ED%86%B5%EC%8B%A0-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%9D%B4-%EB%B6%84%EC%82%B0-%EC%B2%98%EB%A6%AC-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%97%90%EC%84%9C-%EC%9E%98-%EB%8F%8C%EC%95%84%EA%B0%80%EA%B3%A0-%EC%9E%88%EB%8A%94-%EC%82%AC%EB%A1%80%EC%9D%B8-%EA%B2%83-%EA%B0%99%EB%8B%A4\">이동통신 시스템이 분산 처리 시스템에서 잘 돌아가고 있는 사례인 것 같다</a></li>\n<li><a href=\"#multi-processing\">Multi Processing</a></li>\n<li><a href=\"#%EB%B6%84%EC%82%B0-%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD%EC%9D%98-%ED%95%B4%EA%B2%B0%EC%B1%85%EC%9C%BC%EB%A1%9C-ci%EA%B0%80-%EB%82%98%EC%99%94%EB%8B%A4\">분산 개발 환경의 해결책으로 ci가 나왔다</a></li>\n<li><a href=\"#%EA%B3%84%EC%B8%B5%EC%A0%81%EC%9D%B8-%EA%B2%83%EA%B3%BC-%EB%B6%84%EC%82%B0%EB%90%9C-%EA%B2%83\">계층적인 것과 분산된 것</a></li>\n<li><a href=\"#%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4%EC%9D%98-%ED%95%B4%EB%B2%95%EC%9D%84-%EB%8B%A4%EB%A5%B8-%EB%B6%84%EC%82%B0-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%97%90%EC%84%9C-%EC%96%BB%EA%B3%A0%EC%9E%90-%ED%95%9C%EB%8B%A4\">마이크로서비스의 해법을 다른 분산 시스템에서 얻고자 한다</a></li>\n<li><a href=\"#%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC%ED%8C%8C%EC%9D%B4\">라즈베리파이</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%84%A4%EA%B3%84\">설계</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EB%85%B8%ED%95%98%EC%9A%B0\">아키텍처 노하우</a></li>\n<li><a href=\"#%EC%95%8C%EB%A6%BC-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84\">알림 시스템 설계</a></li>\n<li><a href=\"#%EA%B0%9C%EB%B0%9C-%EC%8B%9C%EC%9E%91%EB%B6%80%ED%84%B0-%ED%99%95%EC%9E%A5%EC%9D%98-%EB%B0%98%EB%B3%B5\">개발 시작부터 확장의 반복</a></li>\n<li><a href=\"#as-after-service\">A/S, after service</a></li>\n<li><a href=\"#design-first-is-good\">Design First is Good</a></li>\n<li><a href=\"#3%EA%B0%9C%EC%9D%98-%EC%9D%98%EA%B2%AC\">3개의 의견</a></li>\n<li><a href=\"#%EC%99%B8%EB%B6%80-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-%EB%B6%84%EB%A6%AC\">외부 라이브러리 분리</a></li>\n<li><a href=\"#micro-crud\">micro crud</a></li>\n<li><a href=\"#%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4%EB%8F%84-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4%EB%A5%BC-%EB%A7%8C%EC%A1%B1%ED%95%98%EB%8F%84%EB%A1%9D-%EA%B5%AC%EC%84%B1%ED%95%98%EB%8A%94-%EA%B2%83%EC%9D%B4-%EC%A2%8B%EA%B2%A0%EB%8B%A4\">마이크로서비스도 인터페이스를 만족하도록 구성하는 것이 좋겠다</a></li>\n<li><a href=\"#business-logic\">business logic</a></li>\n<li><a href=\"#input-logic-output%EC%9D%98-%EA%B5%AC%EC%A1%B0-%EB%A0%88%EA%B3%A0-%EB%AA%A8%EB%8D%B8\">input, logic, output의 구조 (레고 모델)</a></li>\n<li><a href=\"#%EC%9C%A0%ED%95%9C-%EC%83%81%ED%83%9C-%EA%B8%B0%EA%B3%84-state-machine\">유한 상태 기계 state machine</a></li>\n<li><a href=\"#library\">library</a></li>\n<li><a href=\"#%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC%EB%A5%BC-api-%EC%B2%98%EB%9F%BC-%ED%98%B8%EC%B6%9C%ED%95%98%EA%B8%B0\">라이브러리를 api 처럼 호출하기</a></li>\n<li><a href=\"#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EB%A5%BC-%EB%A7%8C%EB%93%A4%EB%A9%B4%EC%84%9C-%EA%B5%AC%EC%B2%B4%EC%A0%81%EC%9D%B8-%EC%98%88%EC%A0%9C%EB%A5%BC-%EC%A0%81%EC%9C%BC%EB%A9%B4%EC%84%9C-%ED%95%B4%EB%B3%B8%EB%8B%A4-%ED%96%89%EB%8F%99\">아키텍처를 만들면서 구체적인 예제를 적으면서 해본다 :행동:</a></li>\n<li><a href=\"#%ED%95%9C-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EC%97%90-%EB%84%88%EB%AC%B4-%EB%A7%8E%EC%9D%80-%EA%B2%83%EC%9D%84-%EB%84%A3%EC%9C%BC%EB%A0%A4%EA%B3%A0-%ED%95%98%EB%8B%A4%EA%B0%80-%EC%9D%B4%EB%8F%84%EC%A0%80%EB%8F%84-%EC%95%84%EB%8B%88%EA%B2%8C-%EB%90%98%EA%B2%A0%EB%8B%A4\">한 아키텍처에 너무 많은 것을 넣으려고 하다가 이도저도 아니게 되겠다</a></li>\n<li><a href=\"#%EB%A0%88%EA%B3%A0%EC%8B%9D-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98\">레고식 아키텍처</a></li>\n<li><a href=\"#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%8B%9C%EC%9E%91-%EC%8B%9C-%EA%BC%AD-%ED%95%84%EC%9A%94%ED%95%9C-%EA%B2%83\">프로젝트 시작 시 꼭 필요한 것</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>"}},"pageContext":{"slug":"/about_architecture/","previous":{"fields":{"slug":"/standard/"},"frontmatter":{"title":"적응하고 깨부수기","tags":"human"},"fileAbsolutePath":"/home/runner/work/shdkej.github.io/shdkej.github.io/content/Human/Standard.md"},"next":{"fields":{"slug":"/note_management/"},"frontmatter":{"title":"노트를 어떻게 관리해야 할까","tags":null},"fileAbsolutePath":"/home/runner/work/shdkej.github.io/shdkej.github.io/content/blog/Note_Management.md"},"filePath":"Meta/About_Architecture.md"}},"staticQueryHashes":["3000541721","4165914708","488914979"],"slicesMap":{}}